---
title: 【机器人学】学习笔记
date: 2019-07-03 18:51:33
categories: 
- 机器人学
tags: 
- 机器人学
mathjax: true
---

# 第二章 空间描述和变换

## 位置描述：

我们用一个位置矢量来描述空间中点的位置
$$
^AP = \left[\begin{matrix}1\\\\  
2\\\\
3\end{matrix}\right]\tag1
$$

## 姿态描述：

物体的姿态可用固定在物体上的坐标系来描述。我们用$X_B,Y_B,Z_B$来描述坐标系B主轴方向的单位矢量，当用坐标系A的坐标表达时，它们被写为$^AX_B,^AY_B,^AZ_B$。我们可以吧这三个单位矢量按照顺序排成一个3x3的矩阵，我们称这个矩阵为**旋转矩阵**，并且这个矩阵是坐标系B相对于坐标系A的表达，所以我们用符号$^A_BR$来表示
$$
^A_BR = [^AX_B\ ^AY_B\ ^AZ_B] = \left[\begin{matrix}X_B · X_A & Y_B · X_A & Z_B · X_A\\\\
X_B · Y_A & Y_B · Y_A & Z_B · Y_A\\\\
X_B · Z_A & Y_B · Z_A & Z_B · Z_A\end{matrix}\right]=\left[\begin{matrix}^BX^T_A\\\\^BY^T_A\\\\^BZ^T_A\end{matrix}\right] = \ ^B_AR^T\tag2
$$
其中最右边矩阵为两坐标的点积，来表示投影。

## 坐标系描述：

完整描述操作手位姿的信息为位置和姿态。我们可以任选一点来描述位置，为方便起见，选择远点。我们将位置和姿态的组合称作坐标系，四个矢量为一组，表示了位置和姿态的信息。
$$
{B} = {^A_BR, \ ^AP_{BORG}}\tag4
$$

## 映射：

1. 平移映射
   $$
   ^A P = \ ^B P + \ ^A P_{BORG}\tag5
   $$

2. 旋转映射
   $$
   ^AP = \ ^A_BR\ ^BP\tag6
   $$
   引入符号可以看出，正好是左下标消掉了后面变量的左上标

3. 关于一般坐标系的映射
   $$
   ^AP = \ ^A_BR\ ^BP + \ ^AP_{BORG}\tag7
   $$
   引入新的概念
   $$
   ^A P = \ ^A_BT\ ^BP\tag8
   $$
   即用一个矩阵的形式的算子来表示从一个从一个坐标系到另一个坐标系的映射，定义一个$4 * 4$的矩阵算子并使用了$4 * 1$的位置向量
   $$
   \left[\begin{matrix}^A P \\\\ 1 \end{matrix} \right] = 
   \left[\begin{array}{c|c}^A_BR & ^A P_{BORG} \\\\ 
   0\ 0\ 0 & 1 \end{array}\right] 
   \left[\begin{matrix} ^B P \\\\ 1 \end{matrix} \right] \tag9
   $$
   上式中的$4 * 4$矩阵被称为**齐次变换矩阵**

## 算子：

1. 平移算子：
   $$
   ^AP_2 = \ ^AP_1 + \ ^AQ
   $$
   用矩阵算子写出平移变换，有：
   $$
   ^AP_2 = D_Q(q)^AP_1
   $$
   其中，q是沿矢量Q方向的数量，它是有符号的。算子可以堪称一种特殊形式的齐次变换：
   $$
   D_Q(q)=\left[\begin{matrix} 1 & 0 & 0& q_x\\\\  
   0 & 1 & 0 & q_y\\\\  
   0 & 0 & 1 & q_z\\\\  
   0 & 0 & 0 & 1
   \end{matrix}\right]
   $$
   其中$q_x, q_y, q_z$是平移矢量Q的分量

2. 旋转算子：
   $$
   ^AP_2 = R^AP_1
   $$
   用矩阵算子写出旋转变换，有：
   $$
   ^AP_2 = R_K(\theta)\ ^AP_1
   $$
   其中R表示一个旋转算子，它表示绕K轴旋转$\theta$角度
   $$
   R_Z(\theta)=\left[\begin{matrix} cos\theta & sin\theta & 0& 0\\\\  
   sin\theta & cos\theta & 0 & 0\\\\  
   0 & 0 & 1 & 0\\\\  
   0 & 0 & 0 & 1
   \end{matrix}\right]
   $$

3. 变换算子：
   $$
   ^AP_2 = T^AP_1
   $$

## 变换算法

1. 混合变换：
   $$
   ^AP =\  ^A_BT\ ^B_CT\ ^CP\\  
   ^A_CT = ^A_BT\ ^B_CT
   $$
   即：
   $$
   ^A_CT =\left[\begin{array}{c|c}^A_BR\ ^B_CR & ^A_BR\ ^BP_{CORG} + \ ^AP_{BORG} \\\\ 
   0\ 0\ 0 & 1 \end{array}\right] 
   $$

2. 逆变换：

   ...

# 第三章 操作臂运动学

## 连杆描述

连杆长度，连杆转角

## 连杆连接的描述

1. 连杆链中的中间连杆

   连杆偏距，关节角

2. 对于运动链中的末端连杆，其参数习惯设定为0

   即$a_0 = a_n = 0.0, \alpha_0 = \alpha_n =0.0$

   之所以采用了这种规定，是因为当一个参数可以人喜选取时，把另一个参数设定为0，可以使计算变得简便。

3. 连杆参数：每个连杆可以用四个运动学参数来描述，其中两个参数用于描述连杆本身，另外两个参数用于描述连杆之间的连接关系。

   对于转动关节，$\theta$为关节变量，其他三个连杆参数是固定不变的

   对于移动关节了，d为关节变量，其他三个连杆参数是固定不变的。

   这种两岸参数描述规则称为Denavit-Hartenberg参数

   根据以上方法，，对于一个六关节的机器人，需要用18个参数就可以完全描述这些固定的运动学参数。

4. 对连杆附加坐标系的规定

   固连在连杆i上的固连坐标系称为坐标系{i}

   z轴和关节轴重合

   坐标系原点位于关节轴和公垂线的交点处

   x轴沿着公垂线方向，指向下一个关节

   y轴由右手定则确定

   ![机器人学1.png](http://upload-images.jianshu.io/upload_images/17194236-9eb722452ff0bcda.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 坐标系的标准命名

1. 基坐标系{B}
2. 工作台坐标系{S}
3. 腕部坐标系{W}
4. 工具坐标系{T}
5. 目标坐标系{G}

![1](http://wx2.sinaimg.cn/large/006BuM4Jgy1g6ctk5c79mj30cm0abt8t.jpg)

## 工具的定位

也就是需要计算工具坐标系T相对于工作台坐标系S的变换矩阵

# 操作臂逆运动学

## 概述

为求出要求的关节叫以防止相对于工作台坐标系{S}的工具坐标系，可以将问题分为两部分：

1. 进行坐标变换求出相对于极坐标系{B}的腕部坐标系{W}
2. 然后应用你运动学求关节角度