---
title: 计算机四级知识点
date: 2020-02-03 18:19:45
tags:
---

时钟分为硬件时钟和软件时钟

目态：用户态 -- 一般指令

管态：系统态 -- 特权指令

# 进程线程模型

1. 顺序执行：顺序性；封闭性；程序结果确定性；程序结果可再现性
2. 多道程序系统：同时处理多个具有独立功能的程序，提高利用率/ 独立性；随机性；资源共享性
3. 程序的并发执行：并发程序相互制约；程序与计算不再一一对应；并发程序结果不可再现

> 多道程序系统属于各种操作系统，是一种思想（实时系统、分布系统）
>
> 并发不等于同时运行

## 进程

1. 进程是正在执行的程序，包括程序，数据，进程控制块
2. 并发性；动态性；独立性；交往性；异步性
3. 三状态模型：就绪状态，运行状态，等待状态
   1. 就绪状态：进程分配到除CPU之外的一切资源；排成就绪队列
   2. 运行状态：就绪状态的程序获得CPU的使用权，单处理器同一时间只能有一个程序处于运行状态
   3. 等待状态/阻塞状态：进程请求输入输出、申请额外空间；不浪费CPU
4. 创建状态，结束状态（完成、未完成）
5. 挂起状态，激活状态（内存、外存转换）
6. 新状态-->就绪状态：就绪队列可以接纳新的进程
7. 就绪状态-->执行状态：按照算法分配；执行状态的进程称为当前进程
8. 执行状态-->就绪状态：时间片结束、优先权较低
9. 执行状态-->阻塞状态：IO请求等
10. 阻塞状态需要先进入就绪状态再进入运行状态

![TIM截图20200202095653](//tvax4.sinaimg.cn/large/006BuM4Jly1gbhtnod40pj30qo0f7k0k.jpg)

## PCB：进程控制块

组织方式

1. 线性方式：需要扫描所有的
2. 索引方式：需要额外的空间
3. 链接方式：相同状态的进程排列在一起

## Unix的`fork()`函数

父进程通过`fork()`创建子进程

特点：只被执行一次，返回**两次**结果，父进程返回的是子进程的`PID`，子进程中`fork`返回0

> 代码中有几个fork()就会输出2^n次

## 线程

线程是进程的一个实体，是被系统独立调度和执行的基本单位

线程基本上不拥有系统资源，但它可以与同属于一个进程的其他线程共享所拥有的全部资源

一个线程可以创建和撤销另一个线程，多个线程之间可以并发执行，因此运行中可以呈现出异步性，因此线程同样有就绪，执行，阻塞三个状态

> 进程是拥有资源的基本单位

> 不同进程之间可以并发执行，一个进程中的多个线程也可以并发执行
>
> QQ和音乐播放可以同时运行（多进程），QQ里可以多个人同时聊天（多线程）
>
> 线程的引入增加了并发性！

> 一个程序至少有一个进程，一个进程至少有一个线程

用户级线程，内核级线程，混合级线程

