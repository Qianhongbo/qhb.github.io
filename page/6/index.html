<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="google-site-verification" content="OgElj4o9DCjKj3vLsPSXYe8He24OJKxYy0ejEmUrsy8">








  <meta name="baidu-site-verification" content="obU5HKXSi3">







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=EB Garamond:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/Me.JPG?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/ironman.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/Me_16x16.JPG?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="Blog | Qian Homeberg" type="application/atom+xml">






<meta name="description" content="Daily update">
<meta name="keywords" content="WoW">
<meta property="og:type" content="website">
<meta property="og:title" content="Blog | Qian Homeberg">
<meta property="og:url" content="https://www.qianhongbo.com/page/6/index.html">
<meta property="og:site_name" content="Blog | Qian Homeberg">
<meta property="og:description" content="Daily update">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Blog | Qian Homeberg">
<meta name="twitter:description" content="Daily update">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>







  <title>Blog | Qian Homeberg - Look! Who is here! Welcome~~Daily update </title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
	
	<a href="https://github.com/Qianhongbo" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
	
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Blog | Qian Homeberg</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Look! Who is here! Welcome~~</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-books">
          <a href="/books/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br>
            
            阅读
          </a>
        </li>
      
        
        <li class="menu-item menu-item-movies">
          <a href="/movies/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-video-camera"></i> <br>
            
            电影
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.qianhongbo.com/OtherTechnique/Git.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian Hongbo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Me.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog | Qian Homeberg">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/OtherTechnique/Git.html" itemprop="url">Git</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-01-05T10:03:41+08:00">
                2022-01-05
              </time>
            

            

            
          </span>

          

          

		  
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/OtherTechnique/Git.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="OtherTechnique/Git.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  87 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="How-to-use-Git"><a href="#How-to-use-Git" class="headerlink" title="How to use Git"></a>How to use Git</h1><p>Here are some commonds to use git.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &apos;&apos;</span><br><span class="line">git push</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git branch <span class="comment"># show the local branch </span></span><br><span class="line">git branch -a <span class="comment"># show all the branch including the remote branch</span></span><br><span class="line">git checkout branchName <span class="comment"># change to the local branch</span></span><br><span class="line">git checkout -b localBranchName origin/remoteBranchName </span><br><span class="line"><span class="comment"># create a new local branch the same as the remote branch</span></span><br><span class="line">git merge branchName <span class="comment"># merge the current branch with another branch</span></span><br><span class="line">git branch -d branchName <span class="comment"># delete the local branch</span></span><br><span class="line">git push origin --delete remoteBranchName <span class="comment"># delete the remote branch</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    
	
	

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.qianhongbo.com/iOS/Network-Foundations-HTTP.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian Hongbo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Me.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog | Qian Homeberg">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/iOS/Network-Foundations-HTTP.html" itemprop="url">Network Foundations HTTP</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-12-30T19:13:37+08:00">
                2021-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

		  
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/iOS/Network-Foundations-HTTP.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="iOS/Network-Foundations-HTTP.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.6k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  9 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Networking-Terms"><a href="#Networking-Terms" class="headerlink" title="Networking Terms"></a>Networking Terms</h1><ul>
<li><strong>Data:</strong> (Usually in the raw form) anything that is sent over the network.</li>
<li><strong>Client:</strong></li>
<li><strong>Server:</strong></li>
<li><strong>URL:</strong> <strong>U</strong>niform <strong>R</strong>esource <strong>L</strong>ocator</li>
<li><strong>HTTP:</strong> <strong>H</strong>yper<strong>t</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol</li>
<li><strong>HTTPS:</strong> HTTP <strong>S</strong>ecure,</li>
</ul>
<h1 id="Anatomy-of-a-URL"><a href="#Anatomy-of-a-URL" class="headerlink" title="Anatomy of a URL"></a>Anatomy of a URL</h1><table>
<thead>
<tr>
<th>Component</th>
<th>Name</th>
</tr>
</thead>
<tbody><tr>
<td>https://</td>
<td>scheme</td>
</tr>
<tr>
<td>swift.org</td>
<td>host</td>
</tr>
<tr>
<td>/about/</td>
<td>path</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Order</th>
<th>Component</th>
</tr>
</thead>
<tbody><tr>
<td>1st</td>
<td>scheme</td>
</tr>
<tr>
<td>2nd</td>
<td>host</td>
</tr>
<tr>
<td>3rd</td>
<td>port</td>
</tr>
<tr>
<td>4th</td>
<td>path</td>
</tr>
<tr>
<td>5th</td>
<td>query</td>
</tr>
<tr>
<td>6th</td>
<td>fragment</td>
</tr>
</tbody></table>
<h1 id="Status-codes"><a href="#Status-codes" class="headerlink" title="Status codes"></a>Status codes</h1><p>HTTP status codes fall into 5 ranges based on the type of response.</p>
<ul>
<li><strong>100:</strong> Informational response (request has been received by the server but is not finished yet)</li>
<li><strong>200:</strong> Successful response (request has been processed and completed by the server)</li>
<li><strong>300:</strong> Redirection (client needs to do something to complete the request)</li>
<li><strong>400:</strong> Unsuccessful (problem with the client’s request)</li>
<li><strong>500:</strong> Unsuccessful (problem with the server)</li>
</ul>
<p>A complete list of status codes can be found <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="noopener">here</a>.</p>
<table>
<thead>
<tr>
<th align="left"><strong>Status Code</strong></th>
<th align="left"><strong>Short Description</strong></th>
<th align="left"><strong>Category</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">100</td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/100" target="_blank" rel="noopener">Continue</a></td>
<td align="left">Information</td>
</tr>
<tr>
<td align="left">200</td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200" target="_blank" rel="noopener">OK</a></td>
<td align="left">Success</td>
</tr>
<tr>
<td align="left">301</td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/301" target="_blank" rel="noopener">Moved Permanently</a></td>
<td align="left">Redirection</td>
</tr>
<tr>
<td align="left">403</td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403" target="_blank" rel="noopener">Forbidden</a></td>
<td align="left">Client Error</td>
</tr>
<tr>
<td align="left">404</td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404" target="_blank" rel="noopener">Not Found</a></td>
<td align="left">Client Error</td>
</tr>
<tr>
<td align="left">418</td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/418" target="_blank" rel="noopener">I’m a teapot</a></td>
<td align="left">Client Error</td>
</tr>
<tr>
<td align="left">500</td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500" target="_blank" rel="noopener">Internal Server Error</a></td>
<td align="left">Server Error</td>
</tr>
</tbody></table>
<h1 id="HTTP-Verbs"><a href="#HTTP-Verbs" class="headerlink" title="HTTP Verbs"></a>HTTP Verbs</h1><p>CRUD:</p>
<ul>
<li>Create</li>
<li>Read</li>
<li>Update</li>
<li>Delete</li>
</ul>
<table>
<thead>
<tr>
<th>Verb</th>
<th>CRUD Operation</th>
</tr>
</thead>
<tbody><tr>
<td>GET</td>
<td>Read</td>
</tr>
<tr>
<td>POST</td>
<td>Create</td>
</tr>
<tr>
<td>PUT</td>
<td>Update(Replace)</td>
</tr>
<tr>
<td>PATCH</td>
<td>Update(Modify)</td>
</tr>
<tr>
<td>DELETE</td>
<td>Delete</td>
</tr>
</tbody></table>
<ul>
<li><strong>GET</strong>: Retrieves data from the server, such as getting a list of search results.</li>
<li><strong>POST</strong>: Submits data to be stored in the server, such as when submitting a form.</li>
<li><strong>PUT</strong>: Updates data on the server, replacing the old data with the new data.</li>
<li><strong>PATCH</strong>: Updates data on the server, by changing specific values.</li>
<li><strong>DELETE</strong>: Used when removing data from the server.</li>
</ul>
<h1 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h1><h1 id="string"><a href="#string" class="headerlink" title="string"></a>string</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Task 1: create a valid URL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> website = <span class="string">"http://udacity.com"</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="type">URL</span>(string: website)</span><br><span class="line"><span class="built_in">print</span>(url!)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Task 2: append an "ios" path component to the URL</span></span><br><span class="line"></span><br><span class="line">url?.appendPathComponent(<span class="string">"ios"</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> url = url &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"URL: \(url)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>We can’t add query and fragment.</p>
</blockquote>
<h2 id="URLComponents"><a href="#URLComponents" class="headerlink" title="URLComponents"></a>URLComponents</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a new URLComponents</span></span><br><span class="line"><span class="keyword">var</span> components = <span class="type">URLComponents</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// set the scheme</span></span><br><span class="line">components.scheme = <span class="string">"https"</span></span><br><span class="line"><span class="comment">// set the host</span></span><br><span class="line">components.host = <span class="string">"google.com"</span></span><br><span class="line"><span class="comment">// set the path</span></span><br><span class="line">components.path = <span class="string">"/search"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// set the query, you'll need to create a new URLQueryItem</span></span><br><span class="line">components.queryItems = [<span class="type">URLQueryItem</span>(name: <span class="string">"query"</span>, value: <span class="string">"udacity"</span>)]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(components.url ?? <span class="string">""</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Use-struct-to-store-URLComponents"><a href="#Use-struct-to-store-URLComponents" class="headerlink" title="Use struct to store URLComponents"></a>Use struct to store URLComponents</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urlString = <span class="string">"https://itunes.apple.com/us/app/udacity/id819700933?mt=8"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urlComponents = <span class="type">URLComponents</span>(string: urlString)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> urlComponents = urlComponents &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"scheme:\t\t\(String(reflecting: urlComponents.scheme))"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"user:\t\t\(String(reflecting: urlComponents.user))"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"password:\t\(String(reflecting: urlComponents.password))"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"host:\t\t\(String(reflecting: urlComponents.host))"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"port:\t\t\(String(reflecting: urlComponents.port))"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"path:\t\t\(String(reflecting: urlComponents.path))"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"query:\t\t\(String(reflecting: urlComponents.query))"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"fragment:\t\(String(reflecting: urlComponents.fragment))"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AppStore</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> scheme = <span class="string">"https"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> host = <span class="string">"itunes.apple.com"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> udacityPath = <span class="string">"/us/app/udacity/id819700933"</span></span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">ParameterKey</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> mediaType = <span class="string">"mt"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">MediaType</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> music = <span class="string">"1"</span>,</span><br><span class="line">        podcasts = <span class="string">"2"</span>,</span><br><span class="line">        audiobooks = <span class="string">"3"</span>,</span><br><span class="line">        tvShows = <span class="string">"4"</span>,</span><br><span class="line">        musicVideos = <span class="string">"5"</span>,</span><br><span class="line">        movies = <span class="string">"6"</span>,</span><br><span class="line">        iPodGames = <span class="string">"7"</span>,</span><br><span class="line">        mobileApps = <span class="string">"8"</span>,</span><br><span class="line">        ringTones = <span class="string">"9"</span>,</span><br><span class="line">        iTunesU = <span class="string">"10"</span>,</span><br><span class="line">        ebooks = <span class="string">"11"</span>,</span><br><span class="line">        desktopApps = <span class="string">"12"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> udacityAppURL = <span class="type">URLComponents</span>()</span><br><span class="line">udacityAppURL.scheme = <span class="type">AppStore</span>.scheme</span><br><span class="line">udacityAppURL.host = <span class="type">AppStore</span>.host</span><br><span class="line">udacityAppURL.path = <span class="type">AppStore</span>.udacityPath</span><br><span class="line"></span><br><span class="line">udacityAppURL.queryItems = [<span class="type">URLQueryItem</span>(name: <span class="type">AppStore</span>.<span class="type">ParameterKey</span>.mediaType.rawValue, value: <span class="type">AppStore</span>.<span class="type">MediaType</span>.mobileApps.rawValue)]</span><br><span class="line"><span class="built_in">print</span>(udacityAppURL)</span><br></pre></td></tr></table></figure>

<h2 id="URLSession"><a href="#URLSession" class="headerlink" title="URLSession"></a>URLSession</h2><p>“Tasks” are what <code>URLSession</code> calls network requests.</p>
<ul>
<li><code>URLSessionDataTask</code>: Used for perfuming an HTTP request (GET, POST, etc.).</li>
<li><code>URLSessionDownloadTask</code>: Downloading a file from a server.</li>
<li><code>URLSessionUploadTask</code>: Uploading a file to a server</li>
<li><code>URLSessionStreamTask</code>: Getting a continuous stream of data from a server.</li>
</ul>
<blockquote>
<p>After you create the task, you must start it by calling its <a href="https://developer.apple.com/documentation/foundation/urlsessiontask/1411121-resume" target="_blank" rel="noopener"><code>resume()</code></a> method.</p>
<p>Newly-initialized tasks begin in a suspended state, so you need to call this method to start the task.</p>
</blockquote>
<p>###URLSession.shared.dataTask </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">loadImage</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> url = <span class="type">URL</span>(string: <span class="keyword">self</span>.imageLocation) <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Cannot create url!"</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> task = <span class="type">URLSession</span>.shared.dataTask(with: url) &#123;</span><br><span class="line">            (data, response, error) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> data = data <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">"no data"</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> downLoadedImage = <span class="type">UIImage</span>(data: data)</span><br><span class="line">          <span class="comment">// the code of network request is working on the background</span></span><br><span class="line">          <span class="comment">// have to move this line of code to the main thread</span></span><br><span class="line">            <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                <span class="keyword">self</span>.imageView.image = downLoadedImage</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">  <span class="comment">// have to use resume() to start the task </span></span><br><span class="line">        task.resume()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Trailing-closure-syntax"><a href="#Trailing-closure-syntax" class="headerlink" title="Trailing closure syntax"></a>Trailing closure syntax</h4><p>Many functions in iOS accept multiple parameters where the final parameter is a closure.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> task = <span class="type">URLSession</span>.shared.dataTask(with: url, completionHandler: &#123;</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// trailing closure syntax</span></span><br><span class="line"><span class="keyword">let</span> task = <span class="type">URLSession</span>.shared.dataTask(with: url) &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="URLSession-shared-downloadTask"><a href="#URLSession-shared-downloadTask" class="headerlink" title="URLSession.shared.downloadTask"></a>URLSession.shared.downloadTask</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">loadImage</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> url = <span class="type">URL</span>(string: <span class="keyword">self</span>.imageLocation) <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Cannot create url!"</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> task = <span class="type">URLSession</span>.shared.downloadTask(with: url) &#123;</span><br><span class="line">            (location, response, error) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> location = location <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">"location is nil!"</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> downLoadedImage = <span class="keyword">try</span>! <span class="type">Data</span>(contentsOf: location)</span><br><span class="line">            <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                <span class="keyword">self</span>.imageView.image = <span class="type">UIImage</span>(data: downLoadedImage)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        task.resume()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><h2 id="API-amp-Web-Service"><a href="#API-amp-Web-Service" class="headerlink" title="API &amp; Web Service"></a>API &amp; Web Service</h2><p>There you have it: an API is an interface that allows you to build on the data and functionality of another application, while a web service is a network-based resource that fulfills a specific task. Yes, there’s overlap between the two: all web services are APIs, but not all APIs are web services.</p>
<h2 id="DogAPI"><a href="#DogAPI" class="headerlink" title="DogAPI"></a>DogAPI</h2><h3 id="JSONSerialization"><a href="#JSONSerialization" class="headerlink" title="JSONSerialization"></a>JSONSerialization</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DogAPI</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">endpoint</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> randomImageFromAllDogsCollection = <span class="string">"https://dog.ceo/api/breeds/image/random"</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> url: <span class="type">URL</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">URL</span>(string: <span class="keyword">self</span>.rawValue)!</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> randomImageEndpoint = <span class="type">DogAPI</span>.endpoint.randomImageFromAllDogsCollection.url</span><br><span class="line">        </span><br><span class="line"><span class="keyword">let</span> tast = <span class="type">URLSession</span>.shared.dataTask(with: randomImageEndpoint) &#123; </span><br><span class="line">  data, response, error <span class="keyword">in</span></span><br><span class="line">  <span class="keyword">guard</span> <span class="keyword">let</span> data = data <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125; <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> json = <span class="keyword">try</span> <span class="type">JSONSerialization</span>.jsonObject(with: data, options: []) <span class="keyword">as</span>! [<span class="type">String</span>: <span class="type">Any</span>]</span><br><span class="line">    <span class="keyword">let</span> url = json[<span class="string">"message"</span>] <span class="keyword">as</span>! <span class="type">String</span></span><br><span class="line">    <span class="built_in">print</span>(url)</span><br><span class="line">  &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">tast.resume()</span><br></pre></td></tr></table></figure>

<h2 id="Codable"><a href="#Codable" class="headerlink" title="Codable"></a>Codable</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DogImage</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> status: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> message: <span class="type">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line"><span class="keyword">let</span> imageData = <span class="keyword">try</span>! decoder.decode(<span class="type">DogImage</span>.<span class="keyword">self</span>, from: data)</span><br><span class="line"><span class="built_in">print</span>(imageData) <span class="comment">// a struct</span></span><br></pre></td></tr></table></figure>

<h2 id="JSON-parsing-scenarios"><a href="#JSON-parsing-scenarios" class="headerlink" title="JSON parsing scenarios"></a>JSON parsing scenarios</h2><ul>
<li><strong>Coding Keys</strong> (a way to map differently named JSON keys to Swift property names)</li>
<li><strong>Parsing JSON Arrays</strong></li>
<li><strong>Nested</strong> JSON objects</li>
<li><strong>Accessing keys and values</strong> (treating a JSON object like a dictionary when we don’t know what the keys and values will be)</li>
</ul>
<h3 id="Coding-Keys"><a href="#Coding-Keys" class="headerlink" title="Coding Keys"></a>Coding Keys</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> json = <span class="string">"""</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    "food_name": "Lemon",</span></span><br><span class="line"><span class="string">    "taste": "sour",</span></span><br><span class="line"><span class="string">    "number of calories": 17</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">"""</span>.data(using: .utf8)!</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Food</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> taste: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> calories: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> name = <span class="string">"food_name"</span></span><br><span class="line">        <span class="keyword">case</span> taste</span><br><span class="line">        <span class="keyword">case</span> calories = <span class="string">"number of calories"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line"><span class="keyword">let</span> food: <span class="type">Food</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    food = <span class="keyword">try</span> decoder.decode(<span class="type">Food</span>.<span class="keyword">self</span>, from: json)</span><br><span class="line">    <span class="built_in">print</span>(food)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Parsing-JSON-Arrays"><a href="#Parsing-JSON-Arrays" class="headerlink" title="Parsing JSON Arrays"></a>Parsing JSON Arrays</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> json = <span class="string">"""</span></span><br><span class="line"><span class="string">[</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        "title": "Groundhog Day",</span></span><br><span class="line"><span class="string">        "released": 1993,</span></span><br><span class="line"><span class="string">        "starring": ["Bill Murray", "Andie MacDowell", "Chris Elliot"]</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        "title": "Home Alone",</span></span><br><span class="line"><span class="string">        "released": 1990,</span></span><br><span class="line"><span class="string">        "starring": ["Macaulay Culkin", "Joe Pesci", "Daniel Stern", "John Heard", "Catherine O'Hara"]</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">]</span></span><br><span class="line"><span class="string">"""</span>.data(using: .utf8)!</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Movie</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> title: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> released: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> starring: [<span class="type">String</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line"><span class="keyword">let</span> comedies: [<span class="type">Movie</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    comedies = <span class="keyword">try</span> decoder.decode([<span class="type">Movie</span>].<span class="keyword">self</span>, from: json)</span><br><span class="line">    <span class="built_in">print</span>(comedies)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Nested-JSON-objects"><a href="#Nested-JSON-objects" class="headerlink" title="Nested JSON objects"></a>Nested JSON objects</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> json = <span class="string">"""</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    "name": "",</span></span><br><span class="line"><span class="string">    "studentId: 326156,</span></span><br><span class="line"><span class="string">    "academics": &#123;</span></span><br><span class="line"><span class="string">        "field": "iOS",</span></span><br><span class="line"><span class="string">        "grade": "A"</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">"""</span>.data(using: .utf8)!</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Academics</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> field: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> grade: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> studentId: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> academics: <span class="type">Academics</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line"><span class="keyword">let</span> student: <span class="type">Student</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    student = <span class="keyword">try</span> decoder.decode(<span class="type">Student</span>.<span class="keyword">self</span>, from: json)</span><br><span class="line">    <span class="built_in">print</span>(student)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Accessing-keys-and-values"><a href="#Accessing-keys-and-values" class="headerlink" title="Accessing keys and values"></a>Accessing keys and values</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> json = <span class="string">"""</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    "100": &#123;</span></span><br><span class="line"><span class="string">        "type": "colonial",</span></span><br><span class="line"><span class="string">        "location": "Plainville, MA",</span></span><br><span class="line"><span class="string">        "bedrooms": 3,</span></span><br><span class="line"><span class="string">        "bathrooms": 2.5,</span></span><br><span class="line"><span class="string">        "has air conditioning": false,</span></span><br><span class="line"><span class="string">        "amenities": ["basement", "garden"],</span></span><br><span class="line"><span class="string">        "listing": &#123;</span></span><br><span class="line"><span class="string">            "price": 430000,</span></span><br><span class="line"><span class="string">            "date": "May 2018"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    "101": &#123;</span></span><br><span class="line"><span class="string">        "type": "condo",</span></span><br><span class="line"><span class="string">        "location": "San Francisco, CA",</span></span><br><span class="line"><span class="string">        "bedrooms": 1,</span></span><br><span class="line"><span class="string">        "bathrooms": 1,</span></span><br><span class="line"><span class="string">        "has air conditioning": true,</span></span><br><span class="line"><span class="string">        "amenities": [],</span></span><br><span class="line"><span class="string">        "listing": &#123;</span></span><br><span class="line"><span class="string">            "price": 765000,</span></span><br><span class="line"><span class="string">            "date": "September 2018"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">"""</span>.data(using: .utf8)!</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Listing</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> price: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> date: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">House</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> houseType: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> location: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> beds: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> baths: <span class="type">Float</span></span><br><span class="line">    <span class="keyword">let</span> hasAirConditioning: <span class="type">Bool</span></span><br><span class="line">    <span class="keyword">let</span> amenities: [<span class="type">String</span>]</span><br><span class="line">    <span class="keyword">let</span> listing: <span class="type">Listing</span></span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> houseType = <span class="string">"type"</span></span><br><span class="line">        <span class="keyword">case</span> location = <span class="string">"location"</span></span><br><span class="line">        <span class="keyword">case</span> beds = <span class="string">"bedrooms"</span></span><br><span class="line">        <span class="keyword">case</span> baths = <span class="string">"bathrooms"</span></span><br><span class="line">        <span class="keyword">case</span> hasAirConditioning = <span class="string">"has air conditioning"</span></span><br><span class="line">        <span class="keyword">case</span> amenities</span><br><span class="line">        <span class="keyword">case</span> listing</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> houseDict = <span class="keyword">try</span> decoder.decode([<span class="type">String</span>: <span class="type">House</span>].<span class="keyword">self</span>, from: json)</span><br><span class="line">    <span class="built_in">print</span>(houseDict)</span><br><span class="line">    <span class="keyword">let</span> houses = houseDict.values.<span class="built_in">map</span>(&#123;$<span class="number">0</span>&#125;)</span><br><span class="line">    <span class="keyword">let</span> houseIds = houseDict.keys.<span class="built_in">map</span>(&#123;$<span class="number">0</span>&#125;)</span><br><span class="line">    <span class="built_in">print</span>(houses)</span><br><span class="line">    <span class="built_in">print</span>(houseIds)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>We have to use <a href="https://developer.apple.com/documentation/swift/array/3017522-map" target="_blank" rel="noopener">map</a> to transform the data from keys <code>type</code> to <code>array</code> type.</p>
</blockquote>
<h2 id="Post-request-in-Swift"><a href="#Post-request-in-Swift" class="headerlink" title="Post request in Swift"></a>Post request in Swift</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> CoreFoundation</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a Codable struct called "POST" with the correct properties</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Post</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> userId: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> title: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> body: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// create an instance of the Post struct with your own values</span></span><br><span class="line"><span class="keyword">let</span> post = <span class="type">Post</span>(userId: <span class="number">1</span>, title: <span class="string">"udacity"</span>, body: <span class="string">"udacious"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a URLRequest by passing in the URL</span></span><br><span class="line"><span class="keyword">var</span> request = <span class="type">URLRequest</span>(url: <span class="type">URL</span>(string: <span class="string">"https://jsonplaceholder.typicode.com/posts"</span>)!)</span><br><span class="line"><span class="comment">// set the HTTP method to POST</span></span><br><span class="line">request.httpMethod = <span class="string">"POST"</span></span><br><span class="line"><span class="comment">// set the HTTP body to the encoded "Post" struct</span></span><br><span class="line">request.httpBody = <span class="keyword">try</span>! <span class="type">JSONEncoder</span>().encode(post)</span><br><span class="line"><span class="comment">// set the appropriate HTTP header fields</span></span><br><span class="line">request.addValue(<span class="string">"application/json"</span>, forHTTPHeaderField: <span class="string">"Content-Type"</span>)</span><br><span class="line"><span class="comment">// HACK: this line allows the workspace or an Xcode playground to execute the request, but is not needed in a real app</span></span><br><span class="line"><span class="keyword">let</span> runLoop = <span class="type">CFRunLoopGetCurrent</span>()</span><br><span class="line"><span class="comment">// task for making the request</span></span><br><span class="line"><span class="keyword">let</span> task = <span class="type">URLSession</span>.shared.dataTask(with: request) &#123;data, response, error <span class="keyword">in</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="type">String</span>(data: data!, encoding: .utf8))</span><br><span class="line">    <span class="comment">// also not necessary in a real app</span></span><br><span class="line">    <span class="type">CFRunLoopStop</span>(runLoop)</span><br><span class="line">&#125;</span><br><span class="line">task.resume()</span><br><span class="line"><span class="comment">// not necessary</span></span><br><span class="line"><span class="type">CFRunLoopRun</span>()s</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    
	
	

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.qianhongbo.com/LeetCode/Binary-Search-Tree.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian Hongbo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Me.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog | Qian Homeberg">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/LeetCode/Binary-Search-Tree.html" itemprop="url">Binary Search Tree</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-12-28T17:24:37+08:00">
                2021-12-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index">
                    <span itemprop="name">Leetcode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

		  
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/LeetCode/Binary-Search-Tree.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="LeetCode/Binary-Search-Tree.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Find-CLosest-Value-in-BST"><a href="#Find-CLosest-Value-in-BST" class="headerlink" title="Find CLosest Value in BST"></a>Find CLosest Value in BST</h2><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><p>Write a function that takes in a <code>BST</code> and a target integer value and returns that closest value to that target value contained in the BST.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tree = <span class="number">10</span></span><br><span class="line">			/  \</span><br><span class="line">     <span class="number">5</span>   <span class="number">15</span></span><br><span class="line">    / \  / \</span><br><span class="line">   <span class="number">2</span>  <span class="number">5</span> <span class="number">13</span>  <span class="number">22</span></span><br><span class="line">  /       \</span><br><span class="line"> <span class="number">1</span>         <span class="number">14</span></span><br><span class="line">target = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># output = 13</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findClosestValueInBst</span><span class="params">(tree, target)</span>:</span></span><br><span class="line">	closest = tree.value</span><br><span class="line">	currentNode = tree</span><br><span class="line">	<span class="keyword">while</span> currentNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">		<span class="keyword">if</span> abs(target - currentNode.value) &lt; abs(target - closest):</span><br><span class="line">			closest = currentNode.value</span><br><span class="line">		<span class="keyword">if</span> target &gt; currentNode.value:</span><br><span class="line">			currentNode = currentNode.right</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			currentNode = currentNode.left</span><br><span class="line">	<span class="keyword">return</span> closest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># This is the class of the input tree. Do not edit.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BST</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.value = value</span><br><span class="line">        self.left = <span class="literal">None</span></span><br><span class="line">        self.right = <span class="literal">None</span></span><br></pre></td></tr></table></figure>

<h2 id="BST-Construction"><a href="#BST-Construction" class="headerlink" title="BST Construction"></a>BST Construction</h2><p>Write a BST class for a Binary Search Tree. The class should support:</p>
<ol>
<li>Inserting values</li>
<li>Removing values</li>
<li>Searching for values/ Contain</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BST</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.value = value</span><br><span class="line">        self.left = <span class="literal">None</span></span><br><span class="line">        self.right = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Average: O(log(n)) time | O(1) space</span></span><br><span class="line">    <span class="comment"># Worst: O(n) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        currentNode = self</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> value &lt; currentNode.value:</span><br><span class="line">                <span class="keyword">if</span> currentNode.left <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                    currentNode.left = BST(value)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    currentNode = currentNode.left</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> currentNode.right <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                    currentNode.right = BST(value)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    currentNode = currentNode.right</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Average: O(log(n)) time | O(1) space</span></span><br><span class="line">    <span class="comment"># Worst: O(n) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">contains</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        currentNode = self</span><br><span class="line">        <span class="keyword">while</span> currentNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">if</span> value &lt; currentNode.value:</span><br><span class="line">                currentNode = currentNode.left</span><br><span class="line">            <span class="keyword">elif</span> value &gt; currentNode.value:</span><br><span class="line">                currentNode = currentNode.right</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Average: O(log(n)) time | O(1) space</span></span><br><span class="line">    <span class="comment"># Worst: O(n) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(self, value, parrentNode=None)</span>:</span></span><br><span class="line">        currentNode = self</span><br><span class="line">        <span class="keyword">while</span> currentNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">if</span> value &lt; currentNode.value:</span><br><span class="line">                parrentNode = currentNode</span><br><span class="line">                currentNode = currentNode.left</span><br><span class="line">            <span class="keyword">elif</span> value &gt; currentNode.value:</span><br><span class="line">                parrentNode = currentNode</span><br><span class="line">                currentNode = currentNode.right</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">              	<span class="comment"># Circumstance 1</span></span><br><span class="line">                <span class="keyword">if</span> currentNode.left <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> currentNode.right <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                    currentNode.value = currentNode.right.getMinValue()</span><br><span class="line">                    currentNode.right.remove(currentNode.value, currentNode)</span><br><span class="line">                <span class="comment"># Circumstance 2.2</span></span><br><span class="line">                <span class="keyword">elif</span> parrentNode <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                    <span class="keyword">if</span> currentNode.left <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                        currentNode.value = currentNode.left.value</span><br><span class="line">                        currentNode.right = currentNode.left.right</span><br><span class="line">                        currentNode.left = currentNode.left.left</span><br><span class="line">                    <span class="keyword">elif</span> currentNode.right <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                        currentNode.value = currentNode.right.value</span><br><span class="line">                        currentNode.left = currentNode.right.left</span><br><span class="line">                        currentNode.right = currentNode.right.right</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">pass</span></span><br><span class="line">                <span class="comment"># Circumstance 2.1</span></span><br><span class="line">                <span class="keyword">elif</span> currentNode == parrentNode.left:</span><br><span class="line">                    parrentNode.left = currentNode.left <span class="keyword">if</span> currentNode.left <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> currentNode.right</span><br><span class="line">                <span class="comment"># Circumstance 2.1</span></span><br><span class="line">                <span class="keyword">elif</span> currentNode == parrentNode.right:</span><br><span class="line">                    parrentNode.right = currentNode.left <span class="keyword">if</span> currentNode.left <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> currentNode.right</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMinValue</span><span class="params">(self)</span>:</span></span><br><span class="line">    currentNode = self</span><br><span class="line">    <span class="keyword">while</span> currentNode.left <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        currentNode = currentNode.left</span><br><span class="line">    <span class="keyword">return</span> currentNode.value</span><br></pre></td></tr></table></figure>

<blockquote>
<p>There are three circumstances for remove </p>
<ol>
<li>have both left child and right child</li>
<li>only have left child or right child or no child<ul>
<li>have parent node</li>
<li>don’t have parent node</li>
</ul>
</li>
</ol>
</blockquote>
<h1 id="Validate-BST"><a href="#Validate-BST" class="headerlink" title="Validate BST"></a>Validate BST</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># O(n) time | O(d) space</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validateBst</span><span class="params">(tree)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> validateBstHelper(tree, float(<span class="string">"-inf"</span>), float(<span class="string">"inf"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validateBstHelper</span><span class="params">(tree, minValue, maxValue)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> tree <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">if</span> tree.value &lt; minValue <span class="keyword">or</span> tree.value &gt;= maxValue:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    leftIsValid = validateBstHelper(tree.left, minValue, tree.value)</span><br><span class="line">    rightIsValid = validateBstHelper(tree.right, tree.value, maxValue)</span><br><span class="line">    <span class="keyword">return</span> leftIsValid <span class="keyword">and</span> rightIsValid</span><br></pre></td></tr></table></figure>

<h1 id="BST-Traversal"><a href="#BST-Traversal" class="headerlink" title="BST Traversal"></a>BST Traversal</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tree = 10</span><br><span class="line">       / \ </span><br><span class="line">      5   15</span><br><span class="line">     / \    \</span><br><span class="line">    2   5    22</span><br><span class="line">  /</span><br><span class="line"> 1</span><br><span class="line"> </span><br><span class="line"> inOrderTraverse: [1, 2, 5, 5, 10, 15, 22]</span><br><span class="line"> preOrderTraverse: [10, 5, 2, 1, 5, 15, 22]</span><br><span class="line"> postOrderTraverse: [1, 2, 5, 5, 22, 15, 10]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># O(n) time | O(n) space</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inOrderTraverse</span><span class="params">(tree, array)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> tree <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        inOrderTraverse(tree.left, array)</span><br><span class="line">        array.append(tree.value)</span><br><span class="line">        inOrderTraverse(tree.right, array)</span><br><span class="line">    <span class="keyword">return</span> array</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># O(n) time | O(n) space</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">preOrderTraverse</span><span class="params">(tree, array)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> tree <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        array.append(tree.value)</span><br><span class="line">        preOrderTraverse(tree.left, array)</span><br><span class="line">        preOrderTraverse(tree.right, array)</span><br><span class="line">    <span class="keyword">return</span> array</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># O(n) time | O(n) space</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">postOrderTraverse</span><span class="params">(tree, array)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> tree <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        postOrderTraverse(tree.left, array)</span><br><span class="line">        postOrderTraverse(tree.right, array)</span><br><span class="line">        array.append(tree.value)</span><br><span class="line">    <span class="keyword">return</span> array</span><br></pre></td></tr></table></figure>

<h1 id="Min-Height-BST"><a href="#Min-Height-BST" class="headerlink" title="Min Height BST"></a>Min Height BST</h1><p>Write a function that takes in a sorted array of distince integers. Construct a BST from the integers, and return the root of the BST.</p>
<p>Recursive!</p>
<ol>
<li>Use the insert function of Class BST</li>
<li>Write the insert function by ourselves</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># O(nlogn) time | O(n) space</span></span><br><span class="line"><span class="comment"># insert O(logn) time * n elements</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minHeightBst</span><span class="params">(array)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> constructMinHeightBst(array, <span class="literal">None</span>, <span class="number">0</span>, len(array) - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">constructMinHeightBst</span><span class="params">(array, bst, startIdx, endIdx)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> startIdx &gt; endIdx:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    midIdx = (startIdx + endIdx) // <span class="number">2</span></span><br><span class="line">    midValue = array[midIdx]</span><br><span class="line">    <span class="keyword">if</span> bst <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        bst = BST(midValue)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        bst.insert(midValue)</span><br><span class="line"></span><br><span class="line">    constructMinHeightBst(array, bst, startIdx, midIdx - <span class="number">1</span>)</span><br><span class="line">    constructMinHeightBst(array, bst, midIdx + <span class="number">1</span>, endIdx)</span><br><span class="line">    <span class="keyword">return</span> bst</span><br></pre></td></tr></table></figure>

<p>In order to optimize the program, the built-in insert function is not practical, and there is no need to start from the root node. Directly compare and insert.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># O(n) time | O(n) space</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minHeightBst</span><span class="params">(array)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> constructMinHeightBst(array, <span class="literal">None</span>, <span class="number">0</span>, len(array) - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">constructMinHeightBst</span><span class="params">(array, bst, startIdx, endIdx)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> startIdx &gt; endIdx:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    midIdx = (startIdx + endIdx) // <span class="number">2</span></span><br><span class="line">    newBstNode = BST(array[midIdx])</span><br><span class="line">    <span class="keyword">if</span> bst <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        bst = newBstNode</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="comment"># Don't need to traverse elements from the root node.</span></span><br><span class="line">        <span class="keyword">if</span> bst.value &gt; array[midIdx]:</span><br><span class="line">            bst.left = newBstNode</span><br><span class="line">            bst = bst.left</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            bst.right = newBstNode</span><br><span class="line">            bst = bst.right</span><br><span class="line"></span><br><span class="line">    constructMinHeightBst(array, bst, startIdx, midIdx - <span class="number">1</span>)</span><br><span class="line">    constructMinHeightBst(array, bst, midIdx + <span class="number">1</span>, endIdx)</span><br><span class="line">    <span class="keyword">return</span> bst</span><br></pre></td></tr></table></figure>

<p>Make a few changes to the above code.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">constructMinHeightBst</span><span class="params">(array, startIdx, endIdx)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> startIdx &gt; endIdx:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    midIdx = (startIdx + endIdx) // <span class="number">2</span></span><br><span class="line">    bst = BST(array[midIdx])</span><br><span class="line">    bst.left = constructMinHeightBst(array, startIdx, midIdx - <span class="number">1</span>)</span><br><span class="line">    bst.right = constructMinHeightBst(array, midIdx + <span class="number">1</span>, endIdx)</span><br><span class="line">    <span class="keyword">return</span> bst</span><br></pre></td></tr></table></figure>

<h1 id="Find-Kth-Largest-Value-in-BST"><a href="#Find-Kth-Largest-Value-in-BST" class="headerlink" title="Find Kth Largest Value in BST"></a>Find Kth Largest Value in BST</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BST</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value, left=None, right=None)</span>:</span></span><br><span class="line">        self.value = value</span><br><span class="line">        self.left = left</span><br><span class="line">        self.right = right</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># O(N) time, O(N) space</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findKthLargestValueInBst</span><span class="params">(tree, k)</span>:</span></span><br><span class="line">    array = []</span><br><span class="line">    array = reverseInorderTraverse(tree, array)</span><br><span class="line">    <span class="keyword">return</span> array[k - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseInorderTraverse</span><span class="params">(tree, array)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> tree <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        reverseInorderTraverse(tree.right, array)</span><br><span class="line">        array.append(tree.value)</span><br><span class="line">        reverseInorderTraverse(tree.left, array)</span><br><span class="line">    <span class="keyword">return</span> array</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeInfo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, numberOfNodesVisited, latestVisitedNodeValue)</span>:</span></span><br><span class="line">        self.numberOfNodesVisited = numberOfNodesVisited</span><br><span class="line">        self.latestVisitedNodeValue = latestVisitedNodeValue</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># O(h + k) time, O(h) space</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findKthLargestValueInBst</span><span class="params">(tree, k)</span>:</span></span><br><span class="line">    treeInfo = TreeInfo(<span class="number">0</span>, <span class="number">-1</span>)</span><br><span class="line">    reverseInorderTraverse(tree, k, treeInfo)</span><br><span class="line">    <span class="keyword">return</span> treeInfo.latestVisitedNodeValue</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseInorderTraverse</span><span class="params">(node, k, treeInfo)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> node <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> treeInfo.numberOfNodesVisited &gt;= k:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    reverseInorderTraverse(node.right, k, treeInfo)</span><br><span class="line">    <span class="keyword">if</span> treeInfo.numberOfNodesVisited &lt; k:</span><br><span class="line">        treeInfo.latestVisitedNodeValue = node.value</span><br><span class="line">        treeInfo.numberOfNodesVisited += <span class="number">1</span></span><br><span class="line">        reverseInorderTraverse(node.left, k, treeInfo)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    
	
	

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.qianhongbo.com/iOS/Swift-knowledge-supplement.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian Hongbo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Me.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog | Qian Homeberg">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/iOS/Swift-knowledge-supplement.html" itemprop="url">Swift knowledge supplement</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-12-28T14:27:30+08:00">
                2021-12-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

		  
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/iOS/Swift-knowledge-supplement.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="iOS/Swift-knowledge-supplement.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  5.4k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  34 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Associated-Value"><a href="#Associated-Value" class="headerlink" title="Associated Value"></a>Associated Value</h1><p>Enums can have raw values and associated values. A raw value is a string, character, or number (integer or floating-point) that can represent an enum case.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Position</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> first = <span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> second = <span class="number">2</span></span><br><span class="line">    <span class="keyword">case</span> third = <span class="number">3</span></span><br><span class="line">    <span class="keyword">case</span> fourth = <span class="number">4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The example above defines a <code>Position</code> enum and uses type annotation to specify that all cases must have a raw integer value.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ": Int" is the type annotation</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Position</span>: <span class="title">Int</span> </span>&#123;</span><br></pre></td></tr></table></figure>

<p>Then, for each case, a raw integer value is explicitly defined after the case name.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> first = <span class="number">1</span></span><br><span class="line"><span class="keyword">case</span> second = <span class="number">2</span></span><br><span class="line"><span class="keyword">case</span> third = <span class="number">3</span></span><br><span class="line"><span class="keyword">case</span> fourth = <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="Raw-Value-to-Enum"><a href="#Raw-Value-to-Enum" class="headerlink" title="Raw Value to Enum"></a>Raw Value to Enum</h2><p>Raw values enable developers to convert values into enum cases, and vice versa. Let’s keep working with the <code>Position</code> enum.</p>
<p>To convert an enum case into its raw value, use its <code>rawValue</code> property:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// convert a Position into a raw integer value</span></span><br><span class="line"><span class="keyword">let</span> myPosition = <span class="type">Position</span>.first</span><br><span class="line"><span class="keyword">let</span> myPositionNumber = myPosition.rawValue</span><br><span class="line"><span class="built_in">print</span>(myPositionNumber) <span class="comment">// prints "1"</span></span><br></pre></td></tr></table></figure>

<p>To convert a raw value to its respective enum case, use the initializer that takes a <code>rawValue</code> argument.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// convert an integer into a Position</span></span><br><span class="line"><span class="keyword">let</span> rivalPositionNumber = <span class="number">4</span></span><br><span class="line"><span class="keyword">let</span> rivalPosition = <span class="type">Position</span>(rawValue: rivalPositionNumber)</span><br><span class="line"><span class="built_in">print</span>(rivalPosition == .fourth) <span class="comment">// prints "true"</span></span><br></pre></td></tr></table></figure>

<p>Since there is no guarantee that a raw value has a corresponding case, any attempt to create an enum from a raw value will return an optional. To be safe, use <code>if let</code> to create enums from raw values.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> randomNumber = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// safely create enums from raw values</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> newPosition = <span class="type">Position</span>(rawValue: randomNumber) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"created \(newPosition) from raw value"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"cannot create position from raw value"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Implicit-Raw-Values"><a href="#Implicit-Raw-Values" class="headerlink" title="Implicit Raw Values"></a>Implicit Raw Values</h2><p>In certain situations, the Swift compiler can infer raw values for enum cases.</p>
<p>If an enum uses raw string values, then each case is implicitly assigned a raw string value equal to the case’s name.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AudioRate</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> slow, normal, fast, custom</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="type">AudioRate</span>.slow.rawValue) <span class="comment">// prints "slow"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">AudioRate</span>.custom.rawValue) <span class="comment">// prints "custom"</span></span><br></pre></td></tr></table></figure>

<p>If an enum uses raw integer values, then the compiler assigns zero to the first case, and increases the raw value for subsequent cases by one.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Endurance</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> worst, abysmal, poor, medium, strong</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Endurance</span>.poor.rawValue) <span class="comment">// prints "2"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Endurance</span>.strong.rawValue) <span class="comment">// prints "4"</span></span><br></pre></td></tr></table></figure>

<p>It is also possible to define an enum with implicitly and explicitly defined raw values; all implicitly defined raw integer values will be one greater than the previous raw integer value. If no previous raw integer value exists, then the compiler will assign zero to the enum case.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">SkewedEndurance</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> worst, abysmal = <span class="number">10</span>, poor, medium, strong = <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="type">SkewedEndurance</span>.worst.rawValue) <span class="comment">// prints "0"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">SkewedEndurance</span>.poor.rawValue) <span class="comment">// prints "11"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">SkewedEndurance</span>.medium.rawValue) <span class="comment">// prints "12"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">SkewedEndurance</span>.strong.rawValue) <span class="comment">// prints "30"</span></span><br></pre></td></tr></table></figure>

<p>You can mix and match implicit and explicit raw string values too:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Axis</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> x</span><br><span class="line">    <span class="keyword">case</span> y</span><br><span class="line">    <span class="keyword">case</span> z = <span class="string">"zed"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Axis</span>.y.rawValue) <span class="comment">// prints "y"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">Axis</span>.z.rawValue) <span class="comment">// prints "zed"</span></span><br></pre></td></tr></table></figure>

<h2 id="Associated-values"><a href="#Associated-values" class="headerlink" title="Associated values"></a>Associated values</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: Associated values are defined alongside enum cases. Associated values are not required; some enum cases may have an associated value while others do not. In the example below, `LibraryFee` has three cases with associated values and a case without an associated value.</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">LibraryFee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> overdueBook(<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> lostBook(<span class="type">Double</span>)</span><br><span class="line">    <span class="keyword">case</span> lostLibraryCard(<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> annualDues</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fee = <span class="type">LibraryFee</span>.overdueBook(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//: It can be very helpful to name associated values so that their intent is easily understood.</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">DescriptiveLibraryFee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> overdueBook(days: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> lostBook(price: <span class="type">Double</span>)</span><br><span class="line">    <span class="keyword">case</span> lostLibraryCard(timesLost: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> annualDues</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> weekLateFee = <span class="type">DescriptiveLibraryFee</span>.overdueBook(days: <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//: Associated values are actually tuples. Therefore, an associated value can contain mutliple values.</span></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ImageFilter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> sepia</span><br><span class="line">    <span class="keyword">case</span> verticalGradient(from: <span class="type">UIColor</span>, to: <span class="type">UIColor</span>)</span><br><span class="line">    <span class="keyword">case</span> horizontalGradient(from: <span class="type">UIColor</span>, to: <span class="type">UIColor</span>)</span><br><span class="line">    <span class="keyword">case</span> sketch(penThickness: <span class="type">Double?</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fadeToBlack = <span class="type">ImageFilter</span>.horizontalGradient(from: .gray, to: .black)</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: - Callout(Watch Out!):</span></span><br><span class="line"><span class="comment">//: If all enum cases have an associated value of the same type, and it is static, then you might consider using a raw value instead.</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AudioRateAssociated</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> slow(value: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> normal(value: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> fast(value: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> custom(value: <span class="type">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the associated values for `AudioRateAssociated` should be raw values</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AudioRateRaw</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> slow, normal, fast, custom</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Extract-the-associated-value-with-switch"><a href="#Extract-the-associated-value-with-switch" class="headerlink" title="Extract the associated value with switch"></a>Extract the associated value with switch</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ImageFilter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> sepia</span><br><span class="line">    <span class="keyword">case</span> verticalGradient(from: <span class="type">UIColor</span>, to: <span class="type">UIColor</span>)</span><br><span class="line">    <span class="keyword">case</span> horizontalGradient(from: <span class="type">UIColor</span>, to: <span class="type">UIColor</span>)</span><br><span class="line">    <span class="keyword">case</span> sketch(penThickness: <span class="type">Double?</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> filter1 = <span class="type">ImageFilter</span>.horizontalGradient(from: .gray, to: .black)</span><br><span class="line"><span class="keyword">let</span> filter2 = <span class="type">ImageFilter</span>.horizontalGradient(from: .white, to: .black)</span><br></pre></td></tr></table></figure>

<h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: Most often, associated values are extracted in a switch block. For cases that have an associated value, the `let` keyword followed by a name will extract each  value from an associated value.</span></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> .sepia:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"sepia"</span>)</span><br><span class="line"><span class="keyword">case</span> .verticalGradient(<span class="keyword">let</span> color1, <span class="keyword">let</span> color2):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"vertical gradient with \(color1) and \(color2)"</span>)</span><br><span class="line"><span class="keyword">case</span> .horizontalGradient(<span class="keyword">let</span> color1, <span class="keyword">let</span> color2):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"horizontal gradient with \(color1) and \(color2)"</span>)</span><br><span class="line"><span class="keyword">case</span> .sketch(<span class="keyword">let</span> penThickness):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> thickness = penThickness &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"sketch using \(thickness) thickness"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"sketch using default thickness"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: Associated values can also be extracted as variables using the `var` keyword. Values extracted as variables are only available in the case where they are declared.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> .horizontalGradient(<span class="keyword">var</span> color1, <span class="keyword">let</span> color2):</span><br><span class="line">    color1 = .blue</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"horizontal gradient with \(color1) and \(color2)"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//: To extract all values from an associated value as constants, use the `case let` syntax.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> .horizontalGradient(color1, color2):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"horizontal gradient with \(color1) and \(color2)"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//: To extract all values from an associated value as variables, use the `case var` syntax.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">var</span> .horizontalGradient(color1, color2):</span><br><span class="line">    color1 = .red</span><br><span class="line">    color2 = .blue</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"horizontal gradient with \(color1) and \(color2)"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Watch-out"><a href="#Watch-out" class="headerlink" title="Watch out!"></a>Watch out!</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: - Callout(Watch Out!):</span></span><br><span class="line"><span class="comment">//: Remember, switch statements must be exhaustive or Xcode will complain.</span></span><br><span class="line"><span class="comment">// uncomment the switch statement below to see Xcode complain about a non-exhaustive switch statement.</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> switch filter1 &#123;</span></span><br><span class="line"><span class="comment"> case .horizontalGradient(var color1, let color2):</span></span><br><span class="line"><span class="comment"> color1 = .blue</span></span><br><span class="line"><span class="comment"> print("horizontal gradient with \(color1) and \(color2)")</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//: If it is possible to treat two cases exactly the same, even when they have associated values, then you can combine cases. Note, the associated values must be the same type.</span></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> .verticalGradient(<span class="keyword">let</span> color1, <span class="keyword">let</span> color2), .horizontalGradient(<span class="keyword">let</span> color1, <span class="keyword">let</span> color2):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"a gradient from \(color1) to \(color2)"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: - Callout(Watch Out!):</span></span><br><span class="line"><span class="comment">//: If two cases are specified with a single case statement, then the tuple element names must match.</span></span><br><span class="line"> <span class="keyword">switch</span> filter1 &#123;</span><br><span class="line">    <span class="comment">// uncomment the case statement below to see Xcode complain that `color2` and `color3` must be used in every pattern (i.e. the tuple element names don't match)</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    case .verticalGradient(let color1, let color3), .horizontalGradient(let color1, let color2):</span></span><br><span class="line"><span class="comment">        print("a gradient from \(color1) to \(color2)")</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"> <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: If associated values are not needed for computation, then they can be ignored. The example below ignores the associated value for the horizontal gradient.</span></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> .horizontalGradient:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"the filter is a horizontal gradient!"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: It is also possible to partially ignore values in an associated value, while extracting others.</span></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> .horizontalGradient(<span class="keyword">let</span> color1, <span class="number">_</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"the horizontal gradient's first color is \(color1)"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="“where”-keyword"><a href="#“where”-keyword" class="headerlink" title="“where” keyword"></a>“where” keyword</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: Associated values may also be extracted based on conditions specified using the `where` keyword. If all conditions are held, then the values are extracted and the case statement is executed.</span></span><br><span class="line"><span class="keyword">switch</span> filter1 &#123;</span><br><span class="line"><span class="keyword">case</span> .horizontalGradient(<span class="keyword">let</span> color1, <span class="number">_</span>) <span class="keyword">where</span> color1 == .white:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"the horizontal gradient's first color is white"</span>)</span><br><span class="line"><span class="keyword">case</span> .horizontalGradient(<span class="number">_</span>, <span class="keyword">let</span> color2) <span class="keyword">where</span> color2 == .black:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"the horizontal gradient's second color is black"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Computed-properties"><a href="#Computed-properties" class="headerlink" title="Computed properties"></a>Computed properties</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: Associated values can be extracted using computed properties. By using a computed property, you may avoid duplicate switch statements.</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ImageFilter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> colors: (from: <span class="type">UIColor</span>, to: <span class="type">UIColor</span>)? &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .verticalGradient(<span class="keyword">let</span> from, <span class="keyword">let</span> to),</span><br><span class="line">             .horizontalGradient(<span class="keyword">let</span> from, <span class="keyword">let</span> to):</span><br><span class="line">            <span class="keyword">return</span> (from, to)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> penThickness: <span class="type">Double?</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .sketch(<span class="keyword">let</span> penThickness):</span><br><span class="line">            <span class="keyword">return</span> penThickness</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> filter3 = <span class="type">ImageFilter</span>.sketch(penThickness: <span class="number">4.0</span>)</span><br><span class="line"></span><br><span class="line">filter1.colors</span><br><span class="line">filter1.colors?.from</span><br><span class="line">filter1.colors?.to</span><br><span class="line">filter3.colors <span class="comment">// nil </span></span><br><span class="line"></span><br><span class="line">filter1.penThickness <span class="comment">// nil</span></span><br><span class="line">filter3.penThickness <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h2 id="Extract-with-if"><a href="#Extract-with-if" class="headerlink" title="Extract with if"></a>Extract with if</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ImageFilter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> sepia</span><br><span class="line">    <span class="keyword">case</span> verticalGradient(from: <span class="type">UIColor</span>, to: <span class="type">UIColor</span>)</span><br><span class="line">    <span class="keyword">case</span> horizontalGradient(from: <span class="type">UIColor</span>, to: <span class="type">UIColor</span>)</span><br><span class="line">    <span class="keyword">case</span> sketch(penThickness: <span class="type">Double?</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> filter1 = <span class="type">ImageFilter</span>.horizontalGradient(from: .gray, to: .black)</span><br><span class="line"><span class="keyword">let</span> filter2 = <span class="type">ImageFilter</span>.horizontalGradient(from: .white, to: .black)</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//: `if case` works alongside the equals operator (=) to check and extract an associated value from an enum. While the syntax may look strange, the equals operator still behaves in an intuitive way; that is, the associated value on the left-hand side (containing `color1` and `color2`) is set equal to the associated value for the enum on the right-hand side (`filter1`).</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">case</span> <span class="type">ImageFilter</span>.horizontalGradient(<span class="keyword">let</span> color1, <span class="keyword">var</span> color2) = filter1 &#123;</span><br><span class="line">    color2 = .red</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"horizontal gradient with \(color1) and \(color2)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: To extract all values as constants use `if case let`.</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">case</span> <span class="keyword">let</span> <span class="type">ImageFilter</span>.horizontalGradient(color1, color2) = filter1 &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"horizontal gradient with \(color1) and \(color2)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: Complex conditionals can be formed using `if case` and conditional statements separated by commas. If the conditional statements are held true, then the values are extracted and usable from within the `if case` block.</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">case</span> <span class="keyword">let</span> <span class="type">ImageFilter</span>.horizontalGradient(<span class="number">_</span>, color2) = filter1, color2 == .black &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"the horizontal gradient's second color is \(color2)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: A single associated value can also be extracted as a computed property. By using a computed property, you may avoid duplicate `if case` statements.</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ImageFilter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hasHeavyPenThickness: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">case</span> <span class="keyword">let</span> <span class="type">ImageFilter</span>.sketch(penThickness) = <span class="keyword">self</span>, <span class="keyword">let</span> thickness = penThickness, thickness &gt; <span class="number">5.0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter1.hasHeavyPenThickness</span><br></pre></td></tr></table></figure>

<h2 id="Enums-with-Enums"><a href="#Enums-with-Enums" class="headerlink" title="Enums with Enums"></a>Enums with Enums</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ShirtSize</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> extraSmall</span><br><span class="line">    <span class="keyword">case</span> small</span><br><span class="line">    <span class="keyword">case</span> medium</span><br><span class="line">    <span class="keyword">case</span> large</span><br><span class="line">    <span class="keyword">case</span> extraLarge</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Search</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> forShirts(sizes: [<span class="type">ShirtSize</span>])</span><br><span class="line">    <span class="keyword">case</span> forName(name: <span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> searchForBigShirts = <span class="type">Search</span>.forShirts(sizes: [.large, .extraLarge])</span><br><span class="line"><span class="keyword">let</span> searchForHenleys = <span class="type">Search</span>.forName(name: <span class="string">"henley"</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Guard"><a href="#Guard" class="headerlink" title="Guard"></a>Guard</h1><h2 id="Guard-statement"><a href="#Guard-statement" class="headerlink" title="Guard statement"></a>Guard statement</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">takeOff</span><span class="params">(passengersSeated: Bool, crewReady: Bool, runwayClear: Bool)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> passengersSeated <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">guard</span> crewReady <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">guard</span> runwayClear <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"✈️ Lifts off runway"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the runway isn't clear, the airplane cannot take off</span></span><br><span class="line">takeOff(passengersSeated: <span class="literal">true</span>, crewReady: <span class="literal">true</span>, runwayClear: <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// The same</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">takeOffCombineGuards</span><span class="params">(passengersSeated: Bool, crewReady: Bool, runwayClear: Bool)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> passengersSeated, crewReady, runwayClear <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"✈️ Lifts off runway"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add sth</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">takeOffGuardWithCode</span><span class="params">(passengersSeated: Bool, crewReady: Bool, runwayClear: Bool)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> passengersSeated, crewReady, runwayClear <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"tell passengers there will be a delay"</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"✈️ Lifts off runway"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Guard-versus-If"><a href="#Guard-versus-If" class="headerlink" title="Guard versus If"></a>Guard versus If</h2><p>The <code>guard</code> and <code>if</code> keywords can serve similar purposes in Swift, but they should not be used interchangeably. Instead, use the following guidelines to decide when to use guard versus if:</p>
<ul>
<li><code>guard</code> should be used to check for preconditions and early exit</li>
<li><code>if</code> should be used to change execution path based on some condition(s)</li>
</ul>
<blockquote>
<p>Guard: whether the credit card is validate and whether the order is scheduled</p>
<p>If: wether the user enter a discount code</p>
</blockquote>
<h2 id="Guard-with-Optionals"><a href="#Guard-with-Optionals" class="headerlink" title="Guard with Optionals"></a>Guard with Optionals</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">takeOffGuardVar</span><span class="params">(passengersSeated: Bool, crewReady: Bool, runwayClear: Bool, crewLeader: String?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> passengersSeated, crewReady, runwayClear <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">var</span> crewLeaderVariable = crewLeader <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// modify the crew leader</span></span><br><span class="line">    crewLeaderVariable = crewLeaderVariable.uppercased()</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\(crewLeaderVariable): \"Takeoff checks complete!\""</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"✈️ Lifts off runway"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">takeOffGuardVar(passengersSeated: <span class="literal">true</span>, crewReady: <span class="literal">true</span>, runwayClear: <span class="literal">true</span>, crewLeader: <span class="string">"👩🏻‍✈️ Natalie"</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> grades: [<span class="type">Double</span>]</span><br><span class="line">    <span class="keyword">var</span> average: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> grades.<span class="built_in">reduce</span>(<span class="number">0</span>) &#123; <span class="keyword">return</span> $<span class="number">0</span> + $<span class="number">1</span> &#125; / <span class="type">Double</span>(grades.<span class="built_in">count</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">passStudent</span><span class="params">(<span class="number">_</span> student: Student?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> student = student, student.average &gt;= <span class="number">75</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\(student.name) passed!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">passStudent(<span class="type">Student</span>(name: <span class="string">"Sam"</span>, grades: [<span class="number">70</span>, <span class="number">90</span>, <span class="number">84</span>, <span class="number">62</span>, <span class="number">88</span>]))</span><br></pre></td></tr></table></figure>

<h4 id="The-reduce-funtion"><a href="#The-reduce-funtion" class="headerlink" title="The reduce funtion"></a>The reduce funtion</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> numberSum = numbers.<span class="built_in">reduce</span>(<span class="number">0</span>, &#123; x, y <span class="keyword">in</span></span><br><span class="line">x + y</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// numberSum == 10</span></span><br></pre></td></tr></table></figure>

<p><a href="https://developer.apple.com/documentation/swift/array/2298686-reduce" target="_blank" rel="noopener">One website.</a>.</p>
<p> <a href="https://stackoverflow.com/questions/56034602/what-does-the-reduce-function-do-in-swift" target="_blank" rel="noopener">Another website</a>.</p>
<h4 id="Swift-in-keyword"><a href="#Swift-in-keyword" class="headerlink" title="Swift in keyword."></a>Swift <code>in</code> keyword.</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; /parameters and type/ <span class="keyword">in</span> /function body/ &#125;</span><br></pre></td></tr></table></figure>

<h4 id="0-and-1"><a href="#0-and-1" class="headerlink" title="$0 and $1"></a><code>$0</code> and <code>$1</code></h4><p><code>$0</code> is the first parameter passed into the closure. <code>$1</code> is the second parameter, etc. </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">add = &#123; arg1, arg2 <span class="keyword">in</span></span><br><span class="line">arg1 + arg2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add = &#123;</span><br><span class="line">$<span class="number">0</span> + $<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = add(<span class="number">20</span>, <span class="number">20</span>) <span class="comment">// 40</span></span><br></pre></td></tr></table></figure>

<h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> grades: [<span class="type">Double</span>]</span><br><span class="line">    <span class="keyword">var</span> topPassingGrade: <span class="type">Double?</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> passingGrades = grades.<span class="built_in">filter</span> &#123; <span class="keyword">return</span> $<span class="number">0</span> &gt;= <span class="number">75</span> &#125;</span><br><span class="line">        <span class="keyword">return</span> passingGrades.<span class="built_in">max</span>() <span class="comment">// It can be "nil".</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">notifyUser</span><span class="params">(<span class="number">_</span> student: Student)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> <span class="number">_</span> = student.topPassingGrade <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"you've passed!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">notifyUser(<span class="type">Student</span>(name: <span class="string">"Ulysses"</span>, grades: [<span class="number">70</span>, <span class="number">60</span>, <span class="number">74</span>, <span class="number">76</span>, <span class="number">63</span>]))</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a href="https://developer.apple.com/documentation/swift/sequence/3018365-filter" target="_blank" rel="noopener">The filter function</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">let</span> cast = [<span class="string">"Vivien"</span>, <span class="string">"Marlon"</span>, <span class="string">"Kim"</span>, <span class="string">"Karl"</span>]</span><br><span class="line">&gt; <span class="keyword">let</span> shortNames = cast.<span class="built_in">filter</span> &#123; $<span class="number">0</span>.<span class="built_in">count</span> &lt; <span class="number">5</span> &#125;</span><br><span class="line">&gt; <span class="built_in">print</span>(shortNames)</span><br><span class="line">&gt; <span class="comment">// Prints "["Kim", "Karl"]"</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Guard-let-Versus-If-let"><a href="#Guard-let-Versus-If-let" class="headerlink" title="Guard let Versus If let"></a>Guard let Versus If let</h2><ul>
<li>When optional values are used with <code>guard let</code> (or <code>guard var</code>) they are bound as non-optional values and available in the rest of the scope where the guard statement appears.</li>
<li>This differs from how optionals work with <code>if let</code>. With <code>if let</code>, optionals are bound as non-optional constants, and they are only available in the body of the <code>if let</code> statement.</li>
</ul>
<blockquote>
<p>After the ‘guard let’ judgement, the optional is transformed to a variable or constant.</p>
</blockquote>
<h1 id="Errors"><a href="#Errors" class="headerlink" title="Errors"></a>Errors</h1><p>The errors referred to by “error handling” are not like warnings or issues raised by Xcode and the compiler. They are also not software bugs. Instead, these errors are either intentionally caused or generated in situations where correct behavior cannot be fully guaranteed.</p>
<ul>
<li><p>a compile-time error (or warning) can be generated by the compiler, before code is run</p>
</li>
<li><p>a run-time error (sometimes called a logic error) is caused by code that is syntactically correct, but logically incorrect or causes a crash when code is running</p>
</li>
</ul>
<p>These kinds of errors can be fixed.</p>
<p>The errors in “error handling” can happen even when code is syntactically correct.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// When a catch block is executed, it automatically defines a constant called "error". </span></span><br><span class="line"><span class="comment">// This constant is of type `Error` and it has a localized description property with helpful information about the cause of the problem.</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"swift"</span>, withExtension: <span class="string">"png"</span>) &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: fileURL, encoding: .utf8)</span><br><span class="line">        <span class="built_in">print</span>(content)</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(error) <span class="comment">// notice, error is implicitly defined</span></span><br><span class="line">        <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: For readability, the "error" constant can be explicitly defined using `catch let error`.</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"swift"</span>, withExtension: <span class="string">"png"</span>) &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: fileURL, encoding: .utf8)</span><br><span class="line">        <span class="built_in">print</span>(content)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="keyword">let</span> error &#123;</span><br><span class="line">        <span class="built_in">print</span>(error) <span class="comment">// error is defined and available for use in the catch block</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Types-of-error"><a href="#Types-of-error" class="headerlink" title="Types of error"></a>Types of error</h2><p>We can use <code>do catch</code> to handle different type of the error. </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"swift"</span>, withExtension: <span class="string">"png"</span>) &#123;</span><br><span class="line">    <span class="comment">// create a url that does not exist</span></span><br><span class="line">    <span class="keyword">let</span> erroneousURL = fileURL.appendingPathComponent(<span class="string">"unknown-path"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: erroneousURL, encoding: .utf8)</span><br><span class="line">        <span class="built_in">print</span>(content)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="type">CocoaError</span>.fileReadInapplicableStringEncoding &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"cannot read file into a string"</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="type">CocoaError</span>.fileReadUnknown &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"file unknown, cannot read"</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"\(error)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>How can we get the error type?</p>
<p>Use the <a href="https://osstatus.com/" target="_blank" rel="noopener">website</a> to search the error code.</p>
</blockquote>
<h3 id="Catch-is"><a href="#Catch-is" class="headerlink" title="Catch is"></a>Catch is</h3><p>Alternatively, errors can be caught by type using the <code>catch is</code> syntax. As seen before, all errors implement the <code>Error</code> protocol. Additionally, all errors extend from <code>NSError</code> which provides more information for troubleshooting like a string property called “domain” that classifies the origin of an error. An error’s domain may also suggest if the error can be casted into a more specific type like <code>CocoaError</code>, <code>POSIXError</code>, or <code>MachError</code>. See <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ErrorHandlingCocoa/ErrorObjectsDomains/ErrorObjectsDomains.html" target="_blank" rel="noopener">Apple’s documentation on error objects, domains, and codes</a> to learn more.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"swift"</span>, withExtension: <span class="string">"png"</span>) &#123;</span><br><span class="line">    <span class="comment">// create a url that does not exist</span></span><br><span class="line">    <span class="keyword">let</span> erroneousURL = fileURL.appendingPathComponent(<span class="string">"unknown-path"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: erroneousURL, encoding: .utf8)</span><br><span class="line">        <span class="built_in">print</span>(content)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="keyword">is</span> <span class="type">CocoaError</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"this error is a CocoaError"</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"\(error)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Catch-let-…-as-…"><a href="#Catch-let-…-as-…" class="headerlink" title="Catch let … as …"></a>Catch let … as …</h3><p>To catch and cast an error by type, combine <code>catch let error</code> with a type cast. In the example below, an error is casted into <code>CocoaError</code> which exposes common error codes generated by core Apple frameworks.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"swift"</span>, withExtension: <span class="string">"png"</span>) &#123;</span><br><span class="line">    <span class="comment">// create a url that does not exist</span></span><br><span class="line">    <span class="keyword">let</span> erroneousURL = fileURL.appendingPathComponent(<span class="string">"unknown-path"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: erroneousURL, encoding: .utf8)</span><br><span class="line">        <span class="built_in">print</span>(content)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">CocoaError</span> &#123; <span class="comment">/* handle if error can be casted into a `CocoaError` */</span></span><br><span class="line">        <span class="keyword">switch</span> error.errorCode &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">CocoaError</span>.fileReadInapplicableStringEncoding.rawValue:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"cannot read file into a string"</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">CocoaError</span>.fileReadUnknown.rawValue:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"file unknown, cannot read"</span>)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"cocoa error with code: \(error.errorCode)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"\(error)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Propogate-error"><a href="#Propogate-error" class="headerlink" title="Propogate error"></a>Propogate error</h2><p>To propagate all possible errors to the calling site, start by removing the <code>do</code>-<code>catch</code> statement and adding <code>throws</code> to the signature of the function which calls the error-prone code.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// add "trows" to the function</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readFileIntoStringWithThrows</span><span class="params">(fileName: String, fileExtension: String)</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: fileName, withExtension: fileExtension) &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: fileURL, encoding: .utf8)</span><br><span class="line">        <span class="built_in">print</span>(content)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Now, any code that calls `readFileIntoStringWithThrows` is responsible for handling any errors it generates.</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> readFileIntoStringWithThrows(fileName: <span class="string">"swift"</span>, fileExtension: <span class="string">"png"</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"the error was propagated to me, and I handled it!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Sometimes it is appropriate to handle some errors immediately while propagating others for further processing. To propagate a specific error, use the <code>throw</code> keyword.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readFileIntoStringHandleAndThrow</span><span class="params">(fileName: String, fileExtension: String)</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: fileName, withExtension: fileExtension) &#123;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> content = <span class="keyword">try</span> <span class="type">String</span>(contentsOf: fileURL, encoding: .utf8)</span><br><span class="line">            <span class="built_in">print</span>(content)</span><br><span class="line">        &#125; <span class="keyword">catch</span> <span class="type">CocoaError</span>.fileReadUnknown &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"file unknown, cannot read"</span>)</span><br><span class="line">        &#125; <span class="keyword">catch</span> <span class="keyword">let</span> error &#123;</span><br><span class="line">            <span class="keyword">throw</span> error <span class="comment">/* throw (propagate) this error to the call site */</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> readFileIntoStringHandleAndThrow(fileName: <span class="string">"swift"</span>, fileExtension: <span class="string">"png"</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"handling error: \(error.localizedDescription)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="try-and-try"><a href="#try-and-try" class="headerlink" title="try? and try!"></a><code>try?</code> and <code>try!</code></h2><p>Try comes in two other forms: <code>try?</code> and <code>try!</code>. <code>try?</code> executes error-prone code, and if any error is generated, then it is converted into an optional where the underlying value has the same type as the error-prone function or intializer’s return type. This can simplify code, but the ability to analyze errors is lost.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printFileContentsTry</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"swift"</span>, withExtension: <span class="string">"png"</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="keyword">try</span>? <span class="type">String</span>(contentsOf: fileURL, encoding: .utf8)</span><br><span class="line">        <span class="built_in">print</span>(content ?? <span class="string">"content is nil"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// preferably, combine `if let` with `try?`; it's easier to read</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> content = <span class="keyword">try</span>? <span class="type">String</span>(contentsOf: fileURL, encoding: .utf8) &#123;</span><br><span class="line">            <span class="built_in">print</span>(content)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"could not read contents of file into string"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>try!</code> executes error-prone code while foregoing any opportunity to safely handle an error. If an error-prone function is called using <code>try!</code> and it fails, then the entire app or playground crashes.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try! should only be used if there is no risk of error; generally, this is not advised</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileURL = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"swift"</span>, withExtension: <span class="string">"txt"</span>) &#123;</span><br><span class="line">     <span class="keyword">let</span> content = <span class="keyword">try</span>! <span class="type">String</span>(contentsOf: fileURL, encoding: .utf8)</span><br><span class="line">     <span class="built_in">print</span>(content)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Error-handle-summary"><a href="#Error-handle-summary" class="headerlink" title="Error handle summary"></a>Error handle summary</h2><p>There are four ways to handle the error.</p>
<ol>
<li>Handle Error with <code>Do</code>-<code>Catch</code></li>
<li>Convert Error to Optional with <code>try?</code></li>
<li>Ignore Error with <code>try!</code></li>
<li>Propagate Error</li>
</ol>
<h2 id="Create-custom-error"><a href="#Create-custom-error" class="headerlink" title="Create custom error"></a>Create custom error</h2><p>To create a custom error, define a type that inherits from the <code>Error</code> protocol. Often, enums are used for this purpose.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">SimplePurchaseError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> invalidAddress</span><br><span class="line">    <span class="keyword">case</span> cardRejected</span><br><span class="line">    <span class="keyword">case</span> cartWeightLimitExceeded</span><br><span class="line">    <span class="keyword">case</span> insufficientStock</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeBadPurchase</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="type">SimplePurchaseError</span>.cardRejected <span class="comment">// throw a custom error</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> makeBadPurchase()</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error) <span class="comment">// Result: cardRejected</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>When using an enum to define a custom error, use associated values to add helpful debugging information.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ComplexPurchaseError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> invalidAddress</span><br><span class="line">    <span class="keyword">case</span> cardRejected</span><br><span class="line">    <span class="keyword">case</span> cartWeightLimitExceeded(<span class="type">Double</span>)</span><br><span class="line">    <span class="keyword">case</span> insufficientStock(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">attemptPurchase</span><span class="params">(withWeight weight: Double)</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> weight &gt; <span class="number">100</span> &#123;</span><br><span class="line">        <span class="comment">// throw a custom error with an associated value</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="type">ComplexPurchaseError</span>.cartWeightLimitExceeded(-<span class="number">1</span> * (<span class="number">100</span> - weight))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"purchase succeeded!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> attemptPurchase(withWeight: <span class="number">125.6</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">ComplexPurchaseError</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> error &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> .cartWeightLimitExceeded(weight): <span class="comment">/* extract the associated value */</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"purchase failed. weight exceeds limit by: \(weight)"</span>)</span><br><span class="line">      	<span class="comment">// Result: purchase failed. weight exceeds limit by: 25.599</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(error)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Describe-custom-error"><a href="#Describe-custom-error" class="headerlink" title="Describe custom error"></a>Describe custom error</h2><p>You can add extra debugging information to a custom error by also implementing the <code>LocalizedError</code> and <code>CustomNSError</code> protocols.</p>
<h3 id="LocalizedError"><a href="#LocalizedError" class="headerlink" title="LocalizedError"></a><code>LocalizedError</code></h3><p><code>LocalizedError</code> includes properties which should be used to provide localized information about an error.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Describes an error that provides localized messages describing why</span></span><br><span class="line"><span class="comment">/// an error occurred and provides more information about the error.</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">LocalizedError</span> : <span class="title">Error</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// A localized message describing what error occurred.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> errorDescription: <span class="type">String?</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// A localized message describing the reason for the failure.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> failureReason: <span class="type">String?</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// A localized message describing how one might recover from the failure.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> recoverySuggestion: <span class="type">String?</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// A localized message providing "help" text if the user requests help.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> helpAnchor: <span class="type">String?</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The following example describes the <code>failureReason</code> for a <code>PurchaseError</code>. For brevity, the other properties have been excluded.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PurchaseError</span>: <span class="title">LocalizedError</span> </span>&#123;   </span><br><span class="line">    <span class="keyword">var</span> failureReason: <span class="type">String?</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .invalidAddress:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">NSLocalizedString</span>(<span class="string">"address contained invalid or empty fields"</span>, comment: <span class="string">""</span>)</span><br><span class="line">        <span class="keyword">case</span> .cardRejected:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">NSLocalizedString</span>(<span class="string">"card number or csv code is invalid"</span>, comment: <span class="string">""</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> .cartWeightLimitExceeded(amount):</span><br><span class="line">            <span class="keyword">return</span> <span class="type">NSLocalizedString</span>(<span class="string">"weight limit was by exceeded \(amount)"</span>, comment: <span class="string">""</span>)</span><br><span class="line">        <span class="keyword">case</span> .insufficientStock:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">NSLocalizedString</span>(<span class="string">"insufficient stock"</span>, comment: <span class="string">""</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> makeBadPurchase() <span class="comment">// a fictitious function that might throw an error</span></span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">LocalizedError</span> &#123; <span class="comment">// cast error to `LocalizedError`</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> description = error.errorDescription &#123; <span class="built_in">print</span>(description) &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> failureReason = error.failureReason &#123; <span class="built_in">print</span>(failureReason) &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> recoverySuggestion = error.recoverySuggestion &#123; <span class="built_in">print</span>(recoverySuggestion) &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> helpAnchor = error.helpAnchor &#123; <span class="built_in">print</span>(helpAnchor) &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note</strong>: Comment is left blank for each <code>NSLocalizedString</code>. Again, this is for brevity. In practice, you should use comments that provide sufficient context about a localized string so that translators can produce more accurate translations. Failure to do so may result in vastly different translations.</p>
</blockquote>
<h3 id="CustomNSError"><a href="#CustomNSError" class="headerlink" title="CustomNSError"></a><code>CustomNSError</code></h3><p>Recall, all errors extend from <code>NSError</code>. By default, the properties of <code>NSError</code>, like domain, have inferred values. To provide more accurate values for <code>NSError</code> properties, implement <code>CustomNSError</code>.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Describes an error type that specifically provides a domain, code,</span></span><br><span class="line"><span class="comment">/// and user-info dictionary.</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">CustomNSError</span> : <span class="title">Error</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The domain of the error.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> errorDomain: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The error code within the given domain.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> errorCode: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The user-info dictionary.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> errorUserInfo: [<span class="type">String</span> : <span class="type">Any</span>] &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If an error implements <code>CustomNSError</code>, then when casted to an <code>NSError</code>, it will contain the values provided by the protocol implementation.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PurchaseError</span>: <span class="title">CustomNSError</span> </span>&#123;</span><br><span class="line">    <span class="comment">// domain and error code...</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The user-info dictionary.</span></span><br><span class="line">    <span class="keyword">var</span> errorUserInfo: [<span class="type">String</span>: <span class="type">Any</span>] &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> .cartWeightLimitExceeded(amount):</span><br><span class="line">            <span class="keyword">return</span> [</span><br><span class="line">                <span class="string">"weightLimit"</span>: <span class="number">100.0</span>,</span><br><span class="line">                <span class="string">"weightExceeded"</span>: amount</span><br><span class="line">            ]</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> .insufficientStock(items):</span><br><span class="line">            <span class="keyword">return</span> [</span><br><span class="line">                <span class="string">"itemsOutOfStock"</span>: items</span><br><span class="line">            ]</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> [:]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> attemptPurchase(withWeight: <span class="number">125.6</span>) <span class="comment">// a fictitious function that might throw an error</span></span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> &#123; <span class="comment">// cast error to `NSError`</span></span><br><span class="line">    <span class="built_in">print</span>(error.domain)</span><br><span class="line">    <span class="built_in">print</span>(error.code)</span><br><span class="line">    <span class="built_in">print</span>(error.userInfo) <span class="comment">// prints "["weightExceeded": 25.599999999999994, "weightLimit": 100.0]"</span></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="defer"><a href="#defer" class="headerlink" title="defer"></a><code>defer</code></h2><p>The last topic related to errors is the <code>defer</code> keyword. While uncommon, you may find it coupled with error handling because it can be used to execute a block of code before an error-generating scope is exited.</p>
<p>Typically, a defer block is provided near the top of a function. It cannot contain any code that changes the flow of control, like a break or return statement, or throwing an error. Also, multiple defer blocks may be defined, but they are executed in reverse order of when they appear.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">attemptPurchaseWithMultipleDefers</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// before this function exits, execute this defer block</span></span><br><span class="line">    <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(<span class="string">"then, close the secure purchase session"</span>) &#125;</span><br><span class="line">    <span class="keyword">defer</span> &#123; <span class="built_in">print</span>(<span class="string">"first, clear order"</span>) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> processOrder()</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"\(error)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">attemptPurchaseWithMultipleDefers()</span><br><span class="line"></span><br><span class="line"><span class="comment">// before `attemptPurchaseWithMultipleDefers` exits, it prints…</span></span><br><span class="line"><span class="comment">// "first, clear order"</span></span><br><span class="line"><span class="comment">// "then, close the secure purchase session"</span></span><br></pre></td></tr></table></figure>

<h1 id="Generics"><a href="#Generics" class="headerlink" title="Generics"></a>Generics</h1><h2 id="Array-are-Generic"><a href="#Array-are-Generic" class="headerlink" title="Array are Generic"></a>Array are Generic</h2><p>Upon first glance, many do not realize that Swift arrays use generics. Specifically, the type that a Swift array stores is generic — it can be anything. When declaring an array using its more longhand syntax, this becomes apparent.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> intArray = <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;()</span><br><span class="line"><span class="keyword">var</span> stringArray: <span class="type">Array</span>&lt;<span class="type">String</span>&gt; = [<span class="string">"one"</span>, <span class="string">"two"</span>, <span class="string">"three"</span>]</span><br></pre></td></tr></table></figure>

<p>The type specified in the brackets (ex. “<string>“) is called a “concrete type”. When specified, the concrete type takes the place of a generic type. Because Swift arrays use generics, they behave the same, regardless of the concrete type.</string></p>
<h2 id="Generic-Function"><a href="#Generic-Function" class="headerlink" title="Generic Function"></a>Generic Function</h2><p>Generics can be applied to functions and types. To write a generic function, specify a generic type after the function name using the bracket notation (ex. <code>func myFunction&lt;Type&gt;</code>). Then, for any arguments that should be generic, use the generic type instead of a concrete type. Below, the generic type is called <code>Type</code>; <code>Type</code> can represent any type.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printTypeWithNamedGenericType</span>&lt;Type&gt;<span class="params">(<span class="number">_</span> argument: <span class="keyword">Type</span>)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(type(of: argument))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printTypeWithNamedGenericType(<span class="number">4</span>) <span class="comment">// Int </span></span><br><span class="line">printTypeWithNamedGenericType(<span class="string">"udacity"</span>) <span class="comment">// String</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Now, the type is for any type. We can’t implement some functions for this value.</p>
<p>For example, we can’t use “Plus” function, so we should specify a type for it.</p>
</blockquote>
<p>A generic type can be bound or constrained such that it can only represent concrete types which adhere to some protocol or inherit from a certain class. In the example below, the generic type is constrained such that it can only represent types which implement the <code>UnsignedInteger</code> protocol — essentially, non-negative integers.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printUIntTypes</span>&lt;Type: UnsignedInteger&gt;<span class="params">(<span class="number">_</span> argument: <span class="keyword">Type</span>)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(type(of: argument))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> unsignedInt: <span class="type">UInt</span> = <span class="number">4</span></span><br><span class="line"><span class="keyword">let</span> unsignedInt8: <span class="type">UInt8</span> = <span class="number">4</span></span><br><span class="line"><span class="keyword">let</span> unsignedInt16: <span class="type">UInt16</span> = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">printUIntTypes(unsignedInt)</span><br><span class="line">printUIntTypes(unsignedInt8)</span><br><span class="line">printUIntTypes(unsignedInt16)</span><br><span class="line"><span class="comment">// When a generic type is constrained, any concrete types that do not adhere to the constraint will cause Xcode to complain.</span></span><br><span class="line"><span class="comment">//printUIntTypes(4) /* `Int` is not unsigned because it can store negative values */</span></span><br><span class="line"><span class="comment">//printUIntTypes(-4)</span></span><br><span class="line"><span class="comment">//printUIntTypes("abc")</span></span><br></pre></td></tr></table></figure>

<h2 id="Multiple-generic-function"><a href="#Multiple-generic-function" class="headerlink" title="Multiple generic function"></a>Multiple generic function</h2><p>Generic functions and types can specify multiple generic types, simply use a comma to separate them.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combineUInt</span>&lt;Type1: UnsignedInteger, Type2&gt;<span class="params">(<span class="number">_</span> int: Type1, withString string: Type2)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"\(int) \(string)"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> unsignedInt: <span class="type">UInt</span> = <span class="number">4</span></span><br><span class="line"><span class="built_in">print</span>(combineUInt(unsignedInt, withString: <span class="string">"zebras"</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Generic-Type"><a href="#Generic-Type" class="headerlink" title="Generic Type"></a>Generic Type</h2><p>Generics can be applied to an object’s properties to create what is known as a generic type. Similar to generic functions, a generic type is created by specifying the object’s name followed by a generic type using the bracket notation (ex. <code>struct MyType&lt;Type&gt;</code>). Then, for any properties that should be generic, use the generic type instead of a concrete type.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TypeAnalyzer</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> value: <span class="type">T</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// represents the sub-structure of the generic type</span></span><br><span class="line">    <span class="keyword">var</span> mirror: <span class="type">Mirror</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Mirror</span>(reflecting: value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// print information about the type</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">analyze</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Type: \(type(of: value))"</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Value: \(value)"</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> superClassMirror = mirror.superclassMirror &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Superclass: \(superClassMirror.subjectType)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x = <span class="type">TypeAnalyzer</span>(value: <span class="number">2</span>)</span><br><span class="line">x.analyze()</span><br><span class="line"><span class="comment">// Type: Int</span></span><br><span class="line"><span class="comment">// Value: 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> view = <span class="type">TypeAnalyzer</span>&lt;<span class="type">UIView</span>&gt;(value: <span class="type">UIView</span>(frame: <span class="type">CGRect</span>.zero))</span><br><span class="line">view.analyze()</span><br><span class="line"><span class="comment">// Type: UIView</span></span><br><span class="line"><span class="comment">// Value: &lt;UIView: 0x7f82c0a0dfc0; frame = (0 0; 0 0); layer = &lt;CALayer: 0x6000035e6140&gt;&gt;</span></span><br><span class="line"><span class="comment">// Superclass: UIResponder</span></span><br></pre></td></tr></table></figure>

<p>Like generic functions, the generic type can be named and constained. In the example below, <code>ZooExhibit</code> is defined where its animals property is generic and constrained to any type that implements the <code>Animal</code> protocol.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> commonName: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> emoji: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Whale</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> commonName = <span class="string">"Whale"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> emoji = <span class="string">"🐳"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Dolphin</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> commonName = <span class="string">"Dolphin"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> emoji = <span class="string">"🐬"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ZooExhibit</span>&lt;<span class="title">AnimalType</span>: <span class="title">Animal</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animals: [<span class="type">AnimalType</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tourTheExhibit</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Welcome to the \(AnimalType.commonName) Exhibit \(AnimalType.emoji)!"</span>)</span><br><span class="line">        <span class="keyword">for</span> animal <span class="keyword">in</span> animals &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Say hello to \(animal.name) \(AnimalType.emoji)."</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> exhibit1 = <span class="type">ZooExhibit</span>(animals: [<span class="type">Whale</span>(name: <span class="string">"Wendy"</span>), <span class="type">Whale</span>(name: <span class="string">"Wu"</span>)])</span><br><span class="line">exhibit1.tourTheExhibit()</span><br><span class="line"><span class="comment">// Welcome to the Whale Exhibit 🐳!</span></span><br><span class="line"><span class="comment">// Say hello to Wendy 🐳.</span></span><br><span class="line"><span class="comment">// Say hello to Wu 🐳.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the longhand syntax can be used to specify the concrete type</span></span><br><span class="line"><span class="keyword">let</span> exhibit2 = <span class="type">ZooExhibit</span>&lt;<span class="type">Dolphin</span>&gt;(animals: [<span class="type">Dolphin</span>(name: <span class="string">"Dilbert"</span>), <span class="type">Dolphin</span>(name: <span class="string">"Dezeri"</span>)])</span><br><span class="line">exhibit2.tourTheExhibit()</span><br><span class="line"><span class="comment">// Welcome to the Dolphin Exhibit 🐬!</span></span><br><span class="line"><span class="comment">// Say hello to Dilbert 🐬.</span></span><br><span class="line"><span class="comment">// Say hello to Dezeri 🐬.</span></span><br></pre></td></tr></table></figure>

<p>A single generic type can only be substituted with one concrete type. If Xcode is unable to determine the concrete type that should be substituted for a generic type, it will complain.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let exhibit3 = ZooExhibit(animals: [Whale(name: "Wilber"), Dolphin(name: "Daphnie")])</span></span><br></pre></td></tr></table></figure>

<p>Extensions can be combined with generics for truly powerful effects. With an extension, it is possible to specify functionality that should only apply to a generic type when the concrete type meets inherits from a specific protocol.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Feedable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> favoriteFood: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dolphin</span>: <span class="title">Feedable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> favoriteFood = <span class="string">"🐟"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ZooExhibit</span> <span class="title">where</span> <span class="title">AnimalType</span>: <span class="title">Feedable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feedTheAnimals</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> animal <span class="keyword">in</span> animals &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"You feed \(animal.name) \(AnimalType.emoji) some \(AnimalType.favoriteFood)."</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">exhibit2.feedTheAnimals()</span><br><span class="line"></span><br><span class="line"><span class="comment">// because `Whale` is not `Feedable`, the `feedTheAnimals()` function doesn't exist for the whale exhibit</span></span><br><span class="line"><span class="comment">//exhibit1.feedTheAnimals()</span></span><br></pre></td></tr></table></figure>

<h2 id="Subclass-a-Generic-Type"><a href="#Subclass-a-Generic-Type" class="headerlink" title="Subclass a Generic Type"></a>Subclass a Generic Type</h2><p>A generic type can be subclassed, assuming it is a class and not a struct. To demonstrate an example of subclassing a generic type, the <code>Animal</code>, <code>Whale</code>, and <code>ZooExhibit</code> types are defined:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> commonName: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Whale</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> commonName = <span class="string">"Whale"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ZooExhibit</span>&lt;<span class="title">AnimalType</span>: <span class="title">Animal</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animals: [<span class="type">AnimalType</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(animals: [<span class="type">AnimalType</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.animals = animals</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tourTheExhibit</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Welcome to the \(AnimalType.commonName) Exhibit!"</span>)</span><br><span class="line">        <span class="keyword">for</span> animal <span class="keyword">in</span> animals &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Say hello to \(animal.name)."</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To subclass the generic type <code>ZooExhibit</code>, one must define a new class with a generic type that can be substituted for <code>AnimalType</code> (any type that implements the <code>Animal</code> protocol). In the subclass below, the generic type <code>A</code> is constrained such that it must implement the <code>Animal</code> protocol. Hence, when <code>ZooExhibit</code> is specified as the superclass, the type <code>A</code> can be used without error.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TravelingExhibit</span>&lt;<span class="title">A</span>: <span class="title">Animal</span>&gt;: <span class="title">ZooExhibit</span>&lt;<span class="title">A</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> location: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(location: <span class="type">String</span>, animals: [<span class="type">A</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.location = location</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(animals: animals)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">tourTheExhibit</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Welcome to the \(A.commonName) Exhibit at \(location)!"</span>)</span><br><span class="line">        <span class="keyword">for</span> animal <span class="keyword">in</span> animals &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Say hello to \(animal.name)."</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>But, if a subclass tries to specify a generic type that does not satisfy the constraints from the parent class, then Xcode will generate an error.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this generates an error because `B` does not conform to `Animal` protocol</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TankExhibit</span>&lt;<span class="title">B</span>&gt;: <span class="title">ZooExhibit</span>&lt;<span class="title">B</span>&gt; </span>&#123; </span><br><span class="line">    <span class="keyword">let</span> volume: <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(volume: <span class="type">Double</span>, animals: [<span class="type">B</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.volume = volume</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(animals: animals)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Once a generic type is subclassed, it can be created and used in a manner similar to the base class.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// exhibit is of type `TravelingExhibit&lt;Whale&gt;`</span></span><br><span class="line"><span class="keyword">let</span> exhibit = <span class="type">TravelingExhibit</span>(location: <span class="string">"Oakland Zoo"</span>, animals: [<span class="type">Whale</span>(name: <span class="string">"Watson"</span>), <span class="type">Whale</span>(name: <span class="string">"Wren"</span>)])</span><br><span class="line">exhibit.tourTheExhibit()</span><br><span class="line"></span><br><span class="line"><span class="comment">// change exhibit location</span></span><br><span class="line">exhibit.location = <span class="string">"San Francisco Zoo"</span></span><br><span class="line">exhibit.tourTheExhibit()</span><br></pre></td></tr></table></figure>

<h1 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h1><h2 id="Create-a-closure"><a href="#Create-a-closure" class="headerlink" title="Create a closure"></a>Create a closure</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> closures = [f,</span><br><span class="line">               &#123; (x:<span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span> <span class="keyword">return</span> x * <span class="number">2</span> &#125;,</span><br><span class="line">               &#123; x <span class="keyword">in</span> <span class="keyword">return</span> x - <span class="number">8</span> &#125;,</span><br><span class="line">               &#123; x <span class="keyword">in</span> x * x &#125;,</span><br><span class="line">               &#123; $<span class="number">0</span> * <span class="number">42</span> &#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fn <span class="keyword">in</span> closures &#123;</span><br><span class="line">  fn(<span class="number">42</span>) <span class="comment">// 5 results</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Closure-and-Function"><a href="#Closure-and-Function" class="headerlink" title="Closure and Function"></a>Closure and Function</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = &#123;(x: <span class="type">Int</span>) -&gt; <span class="type">Int</span></span><br><span class="line">        <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> x + <span class="number">42</span>&#125;</span><br><span class="line"></span><br><span class="line">f(<span class="number">9</span>) <span class="comment">// 51</span></span><br><span class="line">f(<span class="string">"99"</span>) <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// this function is the same as the closure</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + <span class="number">42</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">Integer</span> = <span class="type">Int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> z: <span class="type">Integer</span> = <span class="number">42</span></span><br><span class="line"><span class="keyword">let</span> zz: <span class="type">Int</span> = <span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// (Int) -&gt; Int</span></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">IntToInt</span> = (<span class="type">Int</span>) -&gt; <span class="type">Int</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">IntMaker</span> = (<span class="type">Void</span>) -&gt; <span class="type">Int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the function returns another function/closure</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeCounter</span><span class="params">()</span></span> -&gt; <span class="type">IntMaker</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> n = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">adder</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> adder</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> counter1 = makeCounter() <span class="comment">// counter 1 is equal to the adder function</span></span><br><span class="line"><span class="keyword">let</span> counter2 = makeCounter()</span><br><span class="line"></span><br><span class="line">counter1() <span class="comment">// 1</span></span><br><span class="line">counter1() <span class="comment">// 2</span></span><br><span class="line">counter1() <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the "n" is not the same for difference instance</span></span><br><span class="line">counter2() <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    
	
	

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.qianhongbo.com/iOS/UITableView.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian Hongbo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Me.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog | Qian Homeberg">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/iOS/UITableView.html" itemprop="url">UITableView and Navigation</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-12-26T10:38:48+08:00">
                2021-12-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

		  
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/iOS/UITableView.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="iOS/UITableView.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  842 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Create-UITabelView"><a href="#Create-UITabelView" class="headerlink" title="Create UITabelView"></a>Create UITabelView</h2><blockquote>
<p>We need to link two delegates(datasource &amp; delegate) from the tabelview in the storyboard to the ViewController.</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITableViewDataSource</span>, <span class="title">UITableViewDelegate</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// MARK: Properties</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Get ahold of some villains, for the table</span></span><br><span class="line">    <span class="comment">// This is an array of Villain instances</span></span><br><span class="line">    <span class="keyword">let</span> allVillains = <span class="type">Villain</span>.allVillains</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// MARK: Table View Data Source</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// The number of rows</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.allVillains.<span class="built_in">count</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// The text of every row</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"VillainCell"</span>)!</span><br><span class="line">        <span class="keyword">let</span> villain = <span class="keyword">self</span>.allVillains[(indexPath <span class="keyword">as</span> <span class="type">NSIndexPath</span>).row]</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Set the name and image</span></span><br><span class="line">        cell.textLabel?.text = villain.name</span><br><span class="line">        cell.imageView?.image = <span class="type">UIImage</span>(named: villain.imageName)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// If the cell has a detail label, we will put the evil scheme in.</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> detailTextLabel = cell.detailTextLabel &#123;</span><br><span class="line">            detailTextLabel.text = <span class="string">"Scheme: \(villain.evilScheme)"</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> cell</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, canEditRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  	<span class="comment">// Use navigationController to show the corresponding page of each row </span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, didSelectRowAt indexPath: IndexPath)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> detailController = storyboard?.instantiateViewController(withIdentifier: <span class="string">"VillainDetailViewController"</span>) <span class="keyword">as</span>! <span class="type">VillainDetailViewController</span></span><br><span class="line">        detailController.villain = <span class="keyword">self</span>.allVillains[indexPath.row]</span><br><span class="line">        navigationController?.pushViewController(detailController, animated: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<h3 id="Creating-and-preparing-the-DetailViewController"><a href="#Creating-and-preparing-the-DetailViewController" class="headerlink" title="Creating and preparing the DetailViewController"></a>Creating and preparing the DetailViewController</h3><ul>
<li>Create a <code>VillainDetailViewController</code> with a 100x80 image view, and a label</li>
<li>Give the <code>VillainDetailViewController</code> a Storyboard ID</li>
<li>Give the <code>VillainDetailViewController</code> a villain property</li>
<li>Write the <code>viewWillAppear</code> method in the <code>VillainDetailViewController</code> so that it sets the image and label</li>
</ul>
</blockquote>
<h2 id="Create-the-Villain-struct"><a href="#Create-the-Villain-struct" class="headerlink" title="Create the Villain struct"></a>Create the Villain struct</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Villain</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// MARK: Properties</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> evilScheme: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> imageName: <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> <span class="type">NameKey</span> = <span class="string">"NameKey"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> <span class="type">EvilSchemeKey</span> = <span class="string">"EvilScheme"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> <span class="type">ImageNameKey</span> = <span class="string">"ImageNameKey"</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// MARK: Initializer</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Generate a Villain from a three entry dictionary</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(dictionary: [<span class="type">String</span> : <span class="type">String</span>]) &#123;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">self</span>.name = dictionary[<span class="type">Villain</span>.<span class="type">NameKey</span>]!</span><br><span class="line">        <span class="keyword">self</span>.evilScheme = dictionary[<span class="type">Villain</span>.<span class="type">EvilSchemeKey</span>]!</span><br><span class="line">        <span class="keyword">self</span>.imageName = dictionary[<span class="type">Villain</span>.<span class="type">ImageNameKey</span>]!</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - Villain (All Villians)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* This extension adds static variable allVillains. An array of Villain objects</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Villain</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Generate an array full of all of the villains in</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> allVillains: [<span class="type">Villain</span>] &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> villainArray = [<span class="type">Villain</span>]()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> d <span class="keyword">in</span> <span class="type">Villain</span>.localVillainData() &#123;</span><br><span class="line">            villainArray.append(<span class="type">Villain</span>(dictionary: d))</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> villainArray</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">localVillainData</span><span class="params">()</span></span> -&gt; [[<span class="type">String</span> : <span class="type">String</span>]] &#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Mr. Big"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Smuggle herion."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Big"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Ernest Blofeld"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Many, many, schemes."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Blofeld"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Sir Hugo Drax"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Nerve gass Earth, from the Moon."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Drax"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Jaws"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Kill Bond with huge metal teeth."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Jaws"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Rosa Klebb"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Humiliate MI6"</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Klebb"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Emilio Largo"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Steal nuclear weapons"</span>, <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"EmilioLargo"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Le Chiffre"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Beat bond at poker."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Lechiffre"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Odd Job"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Kill Bond with razor hat."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"OddJob"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Francisco Scaramanga"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Kill Bond after assembling a golden gun."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Scaramanga"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Raoul Silva"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Kill M."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Silva"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Alec Trevelyan"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Nuke London, after killing Bond."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Trevelyan"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Auric Goldfinger"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Nuke Fort Knox."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Goldfinger"</span>],</span><br><span class="line">            [<span class="type">Villain</span>.<span class="type">NameKey</span> : <span class="string">"Max Zorin"</span>, <span class="type">Villain</span>.<span class="type">EvilSchemeKey</span> : <span class="string">"Destroy Silicon Valley with an earthquake and flood."</span>,  <span class="type">Villain</span>.<span class="type">ImageNameKey</span> : <span class="string">"Zorin"</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="How-to-create-a-Navigation-ViewController"><a href="#How-to-create-a-Navigation-ViewController" class="headerlink" title="How to create a Navigation ViewController"></a>How to create a Navigation ViewController</h2><p><strong>Step 1:</strong> Create a new single view application</p>
<p><strong>Step 2:</strong> Delete the single view controller (You can delete this view controller by selecting the yellow icon and then tapping the delete button)</p>
<p><strong>Step 3:</strong> Drag a <code>UINavigationController</code> into the storyboard from the object library.</p>
<p><strong>Step 4:</strong> Delete the automatically generated root view controller and drag in a new view controller. To reset the Navigation Controller’s Root View Controller property control click on the Navigation Controller’s round yellow icon and drag a line from the root view controller triggered segue to your new view controller.</p>
<h2 id="Implement-the-StartOver-button"><a href="#Implement-the-StartOver-button" class="headerlink" title="Implement the StartOver button"></a>Implement the StartOver button</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MYOAViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        navigationItem.rightBarButtonItem = <span class="type">UIBarButtonItem</span>(</span><br><span class="line">          title: <span class="string">"Start Over"</span>, </span><br><span class="line">          style: .plain, </span><br><span class="line">          target: <span class="keyword">self</span>, </span><br><span class="line">          action: #selector(startOver))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">startOver</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> navigationController = navigationController &#123;</span><br><span class="line">            navigationController.popToRootViewController(animated: <span class="literal">true</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>The Navigation Controller is a stack data structure.</p>
</blockquote>
<h2 id="How-to-Update-the-Rock-Paper-Scissors-App-with-Navigation"><a href="#How-to-Update-the-Rock-Paper-Scissors-App-with-Navigation" class="headerlink" title="How to Update the Rock Paper Scissors App with Navigation"></a>How to Update the Rock Paper Scissors App with Navigation</h2><p><strong>Step 1.</strong> Drag a navigation controller into the storyboard and set its root view controller property to the <code>RockPaperScissorsViewController</code>.</p>
<p><strong>Step 2.</strong> Change each of the three segues one at a time.</p>
<ul>
<li>Scissors is easiest: Just change the type to “show” instead of “modal”. Note the invocation of <code>prepare(for:sender:)</code>.</li>
<li>Paper is essentially the same, but follow the invocation in the view controller and note the invocations of an IBAction, and the <code>performSegue(withIdentifier:sender:)</code> method.</li>
<li>Rock is always the hard way. Read the documentation for <code>UINavigationController</code> to see how to programmatically push the results controller onto the navigation controller. Remember that the <code>RockPaperScissorsViewController</code> will have a navigation controller property that you can use in the action.</li>
</ul>
<p><strong>Step 3.</strong> Edit the <code>playAgainButtonPressed</code> method so that the “Play Again” button behaves similarly to the “Start Over” button in Make Your Own Adventure.</p>

          
        
      
    </div>
    
    
    
	
	

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/Me.JPG" alt="Qian Hongbo">
            
              <p class="site-author-name" itemprop="name">Qian Hongbo</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">57</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Qianhongbo" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="/images/wechat.jpg" target="_blank" title="Wechat">
                      
                        <i class="fa fa-fw fa-weixin"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="/images/QQ.jpg" target="_blank" title="QQ">
                      
                        <i class="fa fa-fw fa-qq"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/Qianhongbo" target="_blank" title="Zhihu">
                      
                        <i class="fa fa-fw fa-heart"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://music.163.com/#/user/home?id=411692137" target="_blank" title="music163">
                      
                        <i class="fa fa-fw fa-music"></i></a>
                  </span>
                
            </div>
          

          
          

          
          
	<br>

  <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=1826996483&auto=0&height=66"></iframe>
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 &mdash; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qian Hongbo</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">57k</span>
  
</div>





<div>
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("06/04/2019 12:27:43");
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>
</div>





        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://qianhongbo.disqus.com/count.js" async></script>
    

    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "./public/search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":166,"height":200},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>



<!-- 代码块复制功能 -->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>

</html>
